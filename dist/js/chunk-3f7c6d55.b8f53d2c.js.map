{"version":3,"sources":["webpack:///./src/api/part1/transactionProject.js","webpack:///./src/components/part1/transactionProject/taskDictionary/userTaskInput.vue?236e","webpack:///src/components/part1/transactionProject/taskDictionary/userTaskInput.vue","webpack:///./src/components/part1/transactionProject/taskDictionary/userTaskInput.vue?d5b0","webpack:///./src/components/part1/transactionProject/taskDictionary/userTaskInput.vue","webpack:///./node_modules/core-js/modules/es.object.keys.js"],"names":["Provinces","console","log","request","url","method","getAllWhiteApi","getTaskApi","postTaskDecompositionApi","data","getbendiApi","render","_vm","this","_h","$createElement","_c","_self","staticStyle","staticClass","_v","ref","attrs","form","model","value","callback","$$v","serve_place","expression","pickerOptions","serve_timeRange","serve_species","serve_type","on","postAddress","abortForm","handleClick","activeName","getMap","staticRenderFns","component","$","toObject","nativeKeys","fails","FAILS_ON_PRIMITIVES","target","stat","forced","keys","it"],"mappings":"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","file":"js/chunk-3f7c6d55.b8f53d2c.js","sourcesContent":["import request from '@/utils/request'\r\nimport Axios from 'axios';\r\n\r\n    // 获取省份信息 \r\nexport function Provinces() {\r\n  console.log(\"获取getshengshiApi表格数据 步骤二 发送taskQuery请求 \")\r\n    return request({\r\n      url: '/HMM/getShengshi',\r\n      method: 'get'\r\n        })\r\n  }\r\n  // 获取白名单列表  \r\n  export function getAllWhiteApi() {\r\n    console.log(\"获取getAllWhiteApi表格数据 步骤二 发送getAllWhiteApi请求 \")\r\n      return request({\r\n        url: '/HMM/getAllWhite',\r\n        method: 'get'\r\n          })\r\n    }\r\n\r\n      // 获取清管所列表  \r\n  export function getAllQingApi() {\r\n    console.log(\"获取getAllQing表格数据 步骤二 发送getAllQing请求 \")\r\n      return request({\r\n        url: '/HMM/getAllQing',\r\n        method: 'get'\r\n          })\r\n    }\r\n\r\n    // 获得任务流程图\r\n    export function getTaskApi() {\r\n      console.log(\"获取getTaskApi数据\")\r\n        return request({\r\n          url: '/task',\r\n          method: 'get'\r\n            })\r\n      }\r\n\r\n      // 获得任务分解图\r\n    export function getTaskDecompositionApi() {\r\n      console.log(\"获取getTaskDecompositionApi数据\")\r\n        return request({\r\n          url: '/taskDecomposition',\r\n          method: 'get'\r\n            })\r\n      }\r\n\r\n// 获得分解任务\r\nexport function postTaskDecompositionApi(data) {\r\n  console.log(\"发送postTaskDecompositionApi请求\")\r\n    return request({\r\n      url: '/taskDecompositionInput',\r\n      method: 'post',\r\n      data\r\n        })\r\n  }\r\n// 获得联盟图\r\nexport function getbendiApi() {\r\n  console.log(\"发送getbendiApi请求\")\r\n    return request({\r\n      url: '/hantina/getbendi',\r\n      method: 'get'\r\n        })\r\n  }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"800px\"}},[_c('h2',{staticClass:\"red\"},[_vm._v(\" 监管与服务任务 \")]),_c('div',{staticClass:\"block\",staticStyle:{\"height\":\"80px\",\"text-align\":\"left\"}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"130px\"}},[_c('el-form-item',{attrs:{\"label\":\"监管与服务地区\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择监管省份\"},model:{value:(_vm.serve_place),callback:function ($$v) {_vm.serve_place=$$v},expression:\"serve_place\"}},[_c('el-option',{attrs:{\"label\":\"青岛\",\"value\":\"1\"}}),_c('el-option',{attrs:{\"label\":\"上海\",\"value\":\"2\"}}),_c('el-option',{attrs:{\"label\":\"杭州\",\"value\":\"3\"}})],1),_vm._v(\" 监管周期 \"),_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"align\":\"right\",\"unlink-panels\":\"\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"picker-options\":_vm.pickerOptions},model:{value:(_vm.serve_timeRange),callback:function ($$v) {_vm.serve_timeRange=$$v},expression:\"serve_timeRange\"}})],1),_c('el-form-item',{attrs:{\"label\":\"监管种类\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择监管种类\"},model:{value:(_vm.serve_species),callback:function ($$v) {_vm.serve_species=$$v},expression:\"serve_species\"}},[_c('el-option',{attrs:{\"label\":\"钢铁\",\"value\":\"1\"}}),_c('el-option',{attrs:{\"label\":\"棉花\",\"value\":\"2\"}}),_c('el-option',{attrs:{\"label\":\"石油\",\"value\":\"3\"}}),_c('el-option',{attrs:{\"label\":\"重金属\",\"value\":\"4\"}})],1),_vm._v(\" 监管任务类型： \"),_c('el-select',{attrs:{\"placeholder\":\"请选择任务类型\"},model:{value:(_vm.serve_type),callback:function ($$v) {_vm.serve_type=$$v},expression:\"serve_type\"}},[_c('el-option',{attrs:{\"label\":\"信贷监管\",\"value\":\"信贷监管\"}}),_c('el-option',{attrs:{\"label\":\"仓单监管\",\"value\":\"仓单监管\"}}),_c('el-option',{attrs:{\"label\":\"质押权监管\",\"value\":\"质押权监管\"}}),_c('el-option',{attrs:{\"label\":\"融资监管\",\"value\":\"融资监管\"}}),_c('el-option',{attrs:{\"label\":\"主体查验\",\"value\":\"主体查验\"}}),_c('el-option',{attrs:{\"label\":\"库存核实\",\"value\":\"库存核实\"}}),_c('el-option',{attrs:{\"label\":\"报表审查\",\"value\":\"报表审查\"}}),_c('el-option',{attrs:{\"label\":\"关联交易质押品审核\",\"value\":\"关联交易质押品审核\"}})],1)],1),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.postAddress}},[_vm._v(\"立即创建\")]),_c('el-button',{attrs:{\"type\":\"info\"},on:{\"click\":_vm.abortForm}},[_vm._v(\"取消创建\")])],1),_c('el-tabs',{on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"任务集\",\"name\":\"taskTree\"}},[_vm._v(\" 任务分解情况（目前仅为单笔） \"),_c('div',{staticStyle:{\"width\":\"900px\",\"height\":\"400px\"},attrs:{\"id\":\"echartContainer\"}})]),_c('el-tab-pane',{attrs:{\"label\":\"监管联盟图\",\"name\":\"graphTwo\",\"lazy\":\"\"},on:{\"click\":_vm.getMap}},[_c('div',{staticStyle:{\"width\":\"900px\",\"height\":\"600px\"},attrs:{\"id\":\"container\"}})])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div style=\"width: 100%;height: 800px\">\r\n        <h2 class=\"red\"> 监管与服务任务 </h2>\r\n        <div class=\"block\" style=\"height:80px;text-align:left\">\r\n  <el-form ref=\"form\" :model=\"form\" label-width=\"130px\">\r\n   <el-form-item label=\"监管与服务地区\">\r\n    <el-select v-model=\"serve_place\" placeholder=\"请选择监管省份\">\r\n      <el-option label=\"青岛\" value=\"1\"></el-option>\r\n      <el-option label=\"上海\" value=\"2\"></el-option>\r\n      <el-option label=\"杭州\" value=\"3\"></el-option>\r\n    </el-select>\r\n\r\n     监管周期\r\n     <el-date-picker\r\n      v-model=\"serve_timeRange\"\r\n      type=\"daterange\"\r\n      align=\"right\"\r\n      unlink-panels\r\n      range-separator=\"至\"\r\n      start-placeholder=\"开始日期\"\r\n      end-placeholder=\"结束日期\"\r\n      :picker-options=\"pickerOptions\">\r\n    </el-date-picker>\r\n   </el-form-item>\r\n\r\n   <el-form-item label=\"监管种类\">\r\n    <el-select v-model=\"serve_species\" placeholder=\"请选择监管种类\">\r\n      <el-option label=\"钢铁\" value=\"1\"></el-option>\r\n      <el-option label=\"棉花\" value=\"2\"></el-option>\r\n      <el-option label=\"石油\" value=\"3\"></el-option>\r\n     <el-option label=\"重金属\" value=\"4\"></el-option>\r\n    </el-select>\r\n    监管任务类型：\r\n    <el-select v-model=\"serve_type\" placeholder=\"请选择任务类型\">\r\n      <el-option label=\"信贷监管\" value=\"信贷监管\"></el-option>\r\n      <el-option label=\"仓单监管\" value=\"仓单监管\"></el-option>\r\n      <el-option label=\"质押权监管\" value=\"质押权监管\"></el-option>\r\n      <el-option label=\"融资监管\" value=\"融资监管\"></el-option>\r\n      <el-option label=\"主体查验\" value=\"主体查验\"></el-option>\r\n      <el-option label=\"库存核实\" value=\"库存核实\"></el-option>\r\n      <el-option label=\"报表审查\" value=\"报表审查\"></el-option>\r\n      <el-option label=\"关联交易质押品审核\" value=\"关联交易质押品审核\"></el-option>\r\n    </el-select>\r\n  </el-form-item>\r\n\r\n<el-button type=\"success\" @click=\"postAddress\">立即创建</el-button>\r\n<el-button type=\"info\" @click=\"abortForm\">取消创建</el-button>\r\n</el-form>\r\n  <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\r\n    <el-tab-pane label=\"任务集\" name=\"taskTree\">\r\n        任务分解情况（目前仅为单笔）\r\n        <div id=\"echartContainer\" style=\"width:900px; height:400px\"></div>\r\n    </el-tab-pane>\r\n    <el-tab-pane label=\"监管联盟图\" name=\"graphTwo\"  @click=\"getMap\" lazy>\r\n    <div id=\"container\" style=\"width:900px; height:600px\"></div>\r\n    </el-tab-pane>\r\n  </el-tabs>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  //  import G6 from '@antv/g6'\r\n    import {postTaskDecompositionApi,getbendiApi} from \"@/api/part1/transactionProject\";\r\n\r\n    export default {\r\n        name: \"Time_granularity\",\r\n        \r\n        components: {\r\n            \r\n        },\r\n        mounted() {\r\n        },\r\n\r\n         data() {\r\n      return {\r\n        serve_place:'',\r\n        serve_species:'',\r\n        serve_timeRange:'',\r\n        serve_type:'',\r\n        activeName: 'taskTree',\r\n        isUpdatastrategy:false,\r\n        // 开始日期输入限制\r\n        pickerOptions: {\r\n          disabledDate(time) {\r\n            return time.getTime() > Date.now();\r\n          },\r\n          shortcuts: [{\r\n            text: '最近一周',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }, {\r\n            text: '最近一个月',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }, {\r\n            text: '最近三个月',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }]\r\n        },\r\n      };\r\n    },\r\n        methods: {\r\n          // 创建监管任务\r\n          postAddress(){\r\n            this.getData();\r\n          },\r\n          getData(){\r\n             var data = { \"name\":this.serve_type,  \r\n             \"value\":null,\r\n             \"children\":null\r\n                };\r\n                console.log(\"用户输入是：\"+ data)\r\n                postTaskDecompositionApi(data).then((res) => {\r\n                 console.log(res.data.data[0])\r\n                 if(res.data.data.length === 0){\r\n               this.$error(\"系统错误！请稍后重试！\");\r\n                }\r\n                else{\r\n                this.$message({\r\n                 type: 'success',\r\n                  message: '任务分配已完成，请从下方查看分解情况。'\r\n          });\r\n                }\r\n                 this.drawLine(res.data.data[0]);\r\n                }).catch(()=>{\r\n                    console.log(\"postTaskDecompositionApi fail\")\r\n                });  \r\n            },\r\n            drawLine(inputData) {\r\n                // 基于准备好的dom，初始化echarts实例\r\n                let myChart = this.$echarts.init(document.getElementById('echartContainer'))\r\n  var colorMap = {\r\n    normal: '#18a849',\r\n    warn: '#FFC125',\r\n    error: '#FF0000',\r\n};\r\nvar data = inputData;\r\n/*\r\n   var data = {\r\n    \"name\": \"信贷监管\",\r\n    \"children\": [\r\n        {\r\n            \"name\": \"仓单监管\",\r\n            \"children\": [\r\n                {\r\n                    \"name\": \"主体查验\",\r\n                    \"children\": [\r\n                        {\"name\": \"仓管主体查验\"},\r\n                        {\"name\": \"交易主体查验\"}\r\n                    ]\r\n                },\r\n                {\r\n                    \"name\": \"库存核实\",\r\n                    \"value\": 3322\r\n                },\r\n                {\r\n                    \"name\": \"报表审查\",\r\n                    \"value\": 3322\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            \"name\": \"质押权监管\",\r\n            \"children\": [\r\n                {\"name\": \"关联交易质押品审核\", \"value\": 8833},\r\n                {\"name\": \"抵押金审核\", \"value\": 1732}\r\n            ]\r\n        },\r\n        {\r\n            \"name\": \"融资监管\",\r\n            \"children\": [\r\n                {\"name\": \"融资套现\",\r\n                 \"children\": [\r\n                {\"name\": \"关联交易监管\", \"value\": 8833},\r\n                {\"name\": \"交易周期监管\", \"value\": 1732},\r\n                {\"name\": \"跨境交易监管\", \"value\": 1732}\r\n            ]\r\n                },\r\n                {\"name\": \"融资回款\", \r\n                \"children\": [\r\n                {\"name\": \"融资续期监管\", \"value\": 8833},\r\n                {\"name\": \"融资超期监管\", \"value\": 1732},            ]\r\n                }\r\n            ]\r\n        },\r\n    ]\r\n};*/\r\n                // 绘制图表\r\n    myChart.setOption({\r\n    tooltip: {\r\n        trigger: 'item',\r\n        triggerOn: 'mousemove'\r\n    },\r\n    series:[\r\n        {\r\n            type: 'tree',\r\n            id: 0,\r\n            name: 'tree1',\r\n            data: [data],\r\n\r\n            top: '10%',\r\n            left: '8%',\r\n            bottom: '22%',\r\n            right: '20%',\r\n\r\n            symbolSize: 15,\r\n\r\n            edgeShape: 'polyline',\r\n            edgeForkPosition: '63%',\r\n            initialTreeDepth: 3,\r\n\r\n            lineStyle: {\r\n                width: 2\r\n            },\r\n            itemStyle: {\r\n                borderColor: '#6A5ACD'\r\n            },\r\n            label: {\r\n                backgroundColor: '#fff',\r\n                position: 'left',\r\n                verticalAlign: 'middle',\r\n                align: 'right'\r\n            },\r\n\r\n            leaves: {\r\n                label: {\r\n                    position: 'right',\r\n                    verticalAlign: 'middle',\r\n                    align: 'left'\r\n                },\r\n            },\r\n        }\r\n    ]\r\n});\r\n myChart.on(\"click\", clickFun);\r\n function clickFun(param) {\r\n    if (typeof param.seriesIndex == 'undefined') {\r\n        return;\r\n    }\r\n    if (param.type == 'click') {\r\n        if(param.value !== undefined){\r\n        alert(param.name + \"执行情况:  \" + param.value);\r\n        }\r\n    }\r\n}\r\n            },\r\n\r\n            // 第二个图\r\n            getData_map(){\r\n          getbendiApi().then((res) => {\r\n              var input  = res.data.data;\r\n              var result_nodes = [];\r\n              var result_target = [];\r\n              var taskList = Object.keys(input);\r\n              //获得关系--任务关系\r\n              for(let n = 0; n < taskList.length-2;n++){\r\n                  var target = {};\r\n                  target.source = taskList[n];\r\n                  target.target = taskList[n+1];\r\n                  result_target.push(target);\r\n              }\r\n              for (let i = 0; i<taskList.length;i++){\r\n                  var node = {};\r\n                  node.id = taskList[i];\r\n                  node.label = taskList[i];\r\n                  node.agent = false;\r\n                  result_nodes.push(node);\r\n                  var attr = node.id;\r\n                  console.log(\"nodeaaaaaaaa\" + i + \":\" + input[attr]);\r\n\r\n                  // 任务对应的agent遍历出来 \r\n                  for(let j = 0; j< input[attr][j];j++){\r\n                      var node_agent = {};\r\n                      node_agent.id = input[attr][j];\r\n                      node_agent.label = input[attr][j];\r\n                      node_agent.agent = true;\r\n                      result_nodes.push(node_agent);\r\n                      // 获得任务--agent对应关系\r\n                      var targer_agent = {};\r\n                      targer_agent.source = attr;\r\n                      targer_agent.target = node_agent.id;\r\n                      result_target.push(targer_agent);\r\n                  }\r\n                  console.log(\"node\" + i + \":\" + node.id);\r\n              }\r\n              this.getChart_map(result_nodes,result_target);\r\n               this.$message({\r\n                 type: 'success',\r\n                  message: '已形成联盟！'\r\n          });\r\n                }).catch(()=>{\r\n                    console.log(\"getTaskApi fail\")\r\n                });         \r\n      },\r\n      getChart_map(nodes_new,edges_new){\r\n      console.log(\"刷新了这个页面-所以可以显示\");\r\nvar color = ['#40E0D0','#1E90FF'];\r\nconst data = {\r\n    nodes:nodes_new,\r\n    edges:edges_new\r\n};\r\n/*\r\nconst tooltip = new G6.Tooltip({\r\n  pageX: 10,\r\n  offsetY: 20,\r\n  getContent(e) {\r\n    const outDiv = document.createElement('div');\r\n    outDiv.style.width = '180px';\r\n    outDiv.style.textAlign = 'left';\r\n    outDiv.innerHTML = `\r\n      <h4>${e.item.getModel().label}</h4>\r\n      <ul>\r\n        <li>* 任务ID: ${e.item.getModel().id}</li>\r\n      </ul>\r\n      <ul>\r\n        <li>* 任务名称: ${e.item.getModel().label}</li>\r\n      </ul>\r\n`\r\n    return outDiv\r\n  },\r\n  itemTypes: ['node']\r\n});*//*\r\nconst width = document.getElementById('container').scrollWidth;\r\nconst height = document.getElementById('container').scrollHeight || 500;\r\nconst graph = new G6.Graph({\r\n    container: 'container',\r\n    width,\r\n    height,\r\n    fitView: true,\r\n    plugins: [tooltip], // 配置 Tooltip 插件\r\n    modes: {\r\n        default: ['drag-canvas', 'drag-node',\r\n        ],\r\n    },\r\n    nodeStateStyles: {\r\n    hover: {\r\n      lineWidth: 2,\r\n      stroke: '#1890ff',\r\n      fill: '#e6f7ff',\r\n    },\r\n  },\r\n    layout: {\r\n        type: 'dagre',\r\n        rankdir: 'LR',\r\n        align: 'UL',\r\n        controlPoints: true,\r\n        nodesepFunc: () => 1,\r\n        ranksepFunc: () => 1,\r\n    },\r\n      defaultNode: {\r\n    style: {\r\n      radius: 2,\r\n      stroke: '#69c0ff',\r\n      fill: data.nodes[2].ccc, // 底色\r\n      lineWidth: 1.5,\r\n      fillOpacity: 1,\r\n    },\r\n    // label configurations\r\n    labelCfg: {\r\n      style: {\r\n        fill: '#595959',\r\n        fontSize: 20,\r\n      },\r\n      offset: 30,\r\n    },\r\n    // left rect\r\n    preRect: {\r\n      show: true,\r\n      width: 10,\r\n      fill: '#40a9ff',\r\n      radius: 2,\r\n    },\r\n    // configurations for the four linkpoints\r\n    linkPoints: {\r\n      top: false,\r\n      right: false,\r\n      bottom: false,\r\n      left: false,\r\n      // the size of the linkpoints' circle\r\n      size: 10,\r\n      lineWidth: 1,\r\n      fill: '#72CC4A',\r\n      stroke: '#72CC4A',\r\n    },\r\n    // configurations for the icon\r\n  },\r\n    defaultEdge: {\r\n        type: 'polyline',\r\n        size: 1,\r\n        color: '#4169E1',\r\n        style: {\r\n            endArrow: {\r\n                path: 'M 0,0 L 8,4 L 8,-4 Z',\r\n                fill: '#e2e2e2'\r\n            },\r\n            radius: 10\r\n        },\r\n    },\r\n});*//*\r\ngraph.node(function (node) {\r\n    // depth 类似节点标识\r\n                        if(node.agent == true){\r\n                            console.log(node)\r\n                            return {\r\n                                type:'circle',\r\n                                size: [100, 80],\r\n                            }\r\n                        }\r\n                        if(node.agent == false){\r\n                            console.log(node)\r\n                            return {\r\n                                type:'modelRect',\r\n                                size: [270, 80],\r\n                            }\r\n                        }\r\n                        return {\r\n                            labelCfg: {\r\n                                // position: node.children && node.children.length > 0 ? 'left' : node.x > centerX ? 'right' : 'left', // 设置显示左右\r\n                                offset: 5\r\n                            }\r\n                        };\r\n                    });\r\ngraph.data(data);\r\ngraph.render();\r\ngraph.on('node:mouseenter', evt => {\r\n  const { item } = evt;\r\n  graph.setItemState(item, 'hover', true);\r\n});\r\n\r\ngraph.on('node:mouseleave', evt => {\r\n  const { item } = evt;\r\n  graph.setItemState(item, 'hover', false);\r\n});*/\r\nconsole.log(\"刷新了这个页面-页面结束\");\r\n      },\r\n      // 分页激活调用\r\n     handleClick(tab, event) {\r\n        console.log(tab, event);\r\n        if(this.activeName == 'graphTwo'){\r\n            this.getData_map();\r\n    }\r\n      }\r\n        },\r\n\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userTaskInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userTaskInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./userTaskInput.vue?vue&type=template&id=330388f2&scoped=true&\"\nimport script from \"./userTaskInput.vue?vue&type=script&lang=js&\"\nexport * from \"./userTaskInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"330388f2\",\n  null\n  \n)\n\nexport default component.exports","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n"],"sourceRoot":""}