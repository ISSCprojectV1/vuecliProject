(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d9a743ae"],{"09ea":function(t,e,n){"use strict";n.d(e,"H",(function(){return i})),n.d(e,"K",(function(){return r})),n.d(e,"n",(function(){return a})),n.d(e,"D",(function(){return l})),n.d(e,"l",(function(){return s})),n.d(e,"g",(function(){return c})),n.d(e,"h",(function(){return u})),n.d(e,"M",(function(){return d})),n.d(e,"G",(function(){return m})),n.d(e,"i",(function(){return h})),n.d(e,"I",(function(){return f})),n.d(e,"L",(function(){return p})),n.d(e,"m",(function(){return g})),n.d(e,"o",(function(){return b})),n.d(e,"E",(function(){return k})),n.d(e,"F",(function(){return y})),n.d(e,"C",(function(){return w})),n.d(e,"a",(function(){return S})),n.d(e,"J",(function(){return v})),n.d(e,"B",(function(){return _})),n.d(e,"r",(function(){return j})),n.d(e,"b",(function(){return x})),n.d(e,"j",(function(){return O})),n.d(e,"y",(function(){return T})),n.d(e,"f",(function(){return C})),n.d(e,"k",(function(){return A})),n.d(e,"q",(function(){return E})),n.d(e,"x",(function(){return N})),n.d(e,"s",(function(){return z})),n.d(e,"t",(function(){return I})),n.d(e,"e",(function(){return R})),n.d(e,"c",(function(){return $})),n.d(e,"v",(function(){return Q})),n.d(e,"w",(function(){return B})),n.d(e,"d",(function(){return D})),n.d(e,"u",(function(){return V})),n.d(e,"z",(function(){return F})),n.d(e,"A",(function(){return U})),n.d(e,"p",(function(){return q})),n.d(e,"N",(function(){return L}));var o=n("b775");n("bc3a");function i(){return console.log("spaceResult"),Object(o["a"])({url:"/spaceresult",method:"get"})}function r(t){return console.log("发送taskInput请求"),Object(o["a"])({url:"/task",method:"post",data:t})}function a(){return console.log("getReadyQueue"),Object(o["a"])({url:"/getReadyQueue",method:"get"})}function l(){return console.log("/modality"),Object(o["a"])({url:"/modality",method:"get"})}function s(){return console.log("发送/getAllUsers请求"),Object(o["a"])({url:"/getAllUsers",method:"get"})}function c(t){return console.log("发送bourseget请求"),Object(o["a"])({url:"/getAllbourse",method:"get"})}function u(t){return console.log("发送/modality请求"),Object(o["a"])({url:"/modality",method:"post",data:t})}function d(){return console.log("发送teamform请求"),Object(o["a"])({url:"/yu/coalitonByHungary",method:"get"})}function m(t){return console.log("发送searchTask请求"),Object(o["a"])({url:"/taskQuery",method:"post",data:t})}function h(){return console.log("发送时间粒度请求"),Object(o["a"])({url:"/getTimeadvise",method:"get"})}function f(){return console.log("发送taskAllocation 请求"),Object(o["a"])({url:"/taskAllocation",method:"get"})}function p(){return console.log("获取taskQuery表格数据"),Object(o["a"])({url:"/task",method:"get"})}function g(t){return console.log("获取getRolenameById数据 "),Object(o["a"])({url:t,method:"get"})}function b(t){return console.log("获取getRolenameById数据 "),Object(o["a"])({url:t,method:"get"})}function k(t){return console.log("发送modalityInput_api请求"),Object(o["a"])({url:"/modality",method:"post",data:t})}function y(){return console.log("获取modalityQuery表格数据 步骤二 发送modalityQuery请求 "),Object(o["a"])({url:"/modality",method:"get"})}function w(){return console.log("获取moAllocation表格数据 步骤二 发送modalityAllocation请求 "),Object(o["a"])({url:"/modalityAllocation",method:"get"})}function S(){return console.log("获取taskExecutionQuery表格数据 步骤二 发送taskExecutionQuery请求 "),Object(o["a"])({url:"/taskExecution",method:"get"})}function v(t){return console.log("获取taskExecutionQueryByid表格数据 步骤二 发送taskExecutionQueryByid请求 "),Object(o["a"])({url:t,method:"get"})}function _(t){return console.log("获取granularityExecution_api表格数据 步骤二 发送granularityExecution_api请求 "),Object(o["a"])({url:t,method:"get"})}function j(){return console.log("获取商品信息表格数据！！！"),Object(o["a"])({url:"/getcommodityInfomation",method:"get"})}function x(t){return console.log("添加商品信息数据！！！"),Object(o["a"])({url:"/addcommodityInfomation",method:"post",data:t})}function O(t){return console.log("删除商品！！！"),Object(o["a"])({url:t,method:"get"})}function T(){return console.log("获取品类表格数据！！！"),Object(o["a"])({url:"/getcommodityVariety",method:"get"})}function C(t){return console.log("添加品类！！！"),Object(o["a"])({url:"/addcommodityVariety",method:"post",data:t})}function A(t){return console.log("删除品类！！！"),Object(o["a"])({url:t,method:"get"})}function E(t){return console.log("根据商品名称 获得商品历史价格信息！！！"),Object(o["a"])({url:t,method:"get"})}function N(){return console.log("获得 商品交易数据集。！！！"),Object(o["a"])({url:"/getcommodityTransaction",method:"get"})}function z(){return console.log("获得 关联商品数据集！！！"),Object(o["a"])({url:"/getcommodityTransaction2",method:"get"})}function I(){return console.log("获得 详细关联商品数据集！！！"),Object(o["a"])({url:"/getcommodityRelationdetails",method:"get"})}function R(t){return console.log("添加商品交易事务数据集。！！！"),Object(o["a"])({url:"/addcommodityTransaction",method:"post",data:t})}function $(){return console.log("计算出关联商品集！！！"),Object(o["a"])({url:"/addcommodityRelationdetails2",method:"get"})}function Q(){return console.log("获得 时间粒度集合！！！"),Object(o["a"])({url:"/getcommodityTimeadvise",method:"get"})}function B(t){return console.log("根据商品名称 获得时间粒度！！！"),Object(o["a"])({url:t,method:"get"})}function D(){return console.log("计算时间粒度！！！"),Object(o["a"])({url:"/addcommodityTimeadvise",method:"get"})}function V(t){return console.log("根据商品名称 获得关联商品集合！！！"),Object(o["a"])({url:t,method:"get"})}function F(t){return console.log("发送getplatform请求"),Object(o["a"])({url:t,method:"get"})}function U(t){return console.log("发送getrecommendrlatform请求"),Object(o["a"])({url:t,method:"get"})}function q(t){return console.log("发送getTeamResult请求"),Object(o["a"])({url:t,method:"get"})}function L(t){return console.log("追加商品粒度"),Object(o["a"])({url:"/taskDecomposition",method:"post",data:t})}},b4e81:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",[t._v("大宗商品预警监控平台")]),n("el-container",{staticStyle:{width:"100%"}},[n("el-aside",{staticStyle:{width:"350px"}},[n("div",{staticStyle:{width:"350px",height:"480px"},attrs:{id:"chart-risk-frequency"}})]),n("el-dialog",{attrs:{title:"预警信息处理",visible:t.dialogTableVisible,center:"","append-to-body":!0,"lock-scroll":!1,width:"30%","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[n("riskStatusChange",{attrs:{riskin:t.risktype}})],1),n("el-container",{staticStyle:{width:"600px"}},[n("el-main",{staticClass:"tabpanel",staticStyle:{"padding-top":"0"}},[n("p",{staticStyle:{"margin-top":"0","font-weight":"bolder","font-size":"18px",color:"#333333"}},[t._v("预警信息综合显示")]),n("el-tabs",[n("el-tab-pane",{attrs:{label:"已发布"}},[n("el-table",{staticStyle:{"font-size":"20px"},attrs:{data:t.formReleased}},[n("el-table-column",{attrs:{prop:"id",label:"序号","min-width":"30"}}),n("el-table-column",{attrs:{prop:"name",label:"商品","min-width":"50"}}),n("el-table-column",{attrs:{prop:"risk",label:"预警信息","min-width":"50"},scopedSlots:t._u([{key:"default",fn:function(e){return["高风险"===e.row.risk?n("span",{staticStyle:{color:"red"}},[t._v(t._s(e.row.risk))]):"低风险"===e.row.risk?n("span",{staticStyle:{color:"green"}},[t._v(t._s(e.row.risk))]):t._e()]}}])}),n("el-table-column",{attrs:{prop:"date",label:"发布时间","min-width":"70"}}),n("el-table-column",{attrs:{label:"操作","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{staticStyle:{"font-size":"20px"},attrs:{type:"text"},on:{click:function(n){return t.addNewTask1(e.row,1)}}},[t._v("修改")]),n("el-button",{staticStyle:{"font-size":"20px"},attrs:{type:"text"},on:{click:function(n){return t.addNewTask1(e.row,2)}}},[t._v("送审")]),n("el-button",{staticStyle:{"font-size":"20px"},attrs:{type:"text"},on:{click:function(e){return t.gotofirst()}}},[t._v("监控")]),n("el-button",{staticStyle:{"font-size":"20px"},attrs:{type:"text"},on:{click:function(e){return t.gotolast()}}},[t._v("监控")]),n("el-button",{staticStyle:{"font-size":"20px"},attrs:{type:"text"},on:{click:function(n){return t.addNewTask1(e.row,4)}}},[t._v("删除")])]}}])})],1)],1),n("el-tab-pane",{attrs:{label:"待处理"}},[n("el-table",{staticStyle:{"font-size":"20px"},attrs:{data:t.formPending}},[n("el-table-column",{attrs:{prop:"id",label:"序号","min-width":"30"}}),n("el-table-column",{attrs:{prop:"name",label:"商品","min-width":"50"}}),n("el-table-column",{attrs:{prop:"risk",label:"预警信息","min-width":"50"},scopedSlots:t._u([{key:"default",fn:function(e){return["高风险"===e.row.risk?n("span",{staticStyle:{color:"red"}},[t._v(t._s(e.row.risk))]):"低风险"===e.row.risk?n("span",{staticStyle:{color:"green"}},[t._v(t._s(e.row.risk))]):t._e()]}}])}),n("el-table-column",{attrs:{prop:"date",label:"发布时间","min-width":"70"}}),n("el-table-column",{attrs:{label:"操作","min-width":"80"}})],1)],1),n("el-tab-pane",{attrs:{label:"已修改"}},[n("el-table",{staticStyle:{"font-size":"20px"},attrs:{data:t.formModified}},[n("el-table-column",{attrs:{prop:"id",label:"序号","min-width":"30"}}),n("el-table-column",{attrs:{prop:"name",label:"商品","min-width":"50"}}),n("el-table-column",{attrs:{prop:"risk",label:"预警信息","min-width":"50"},scopedSlots:t._u([{key:"default",fn:function(e){return["高风险"===e.row.risk?n("span",{staticStyle:{color:"red"}},[t._v(t._s(e.row.risk))]):"低风险"===e.row.risk?n("span",{staticStyle:{color:"green"}},[t._v(t._s(e.row.risk))]):t._e()]}}])}),n("el-table-column",{attrs:{prop:"date",label:"发布时间","min-width":"70"}}),n("el-table-column",{attrs:{label:"操作","min-width":"80"}})],1)],1),n("el-tab-pane",{attrs:{label:"已送审"}},[n("el-table",{staticStyle:{"font-size":"20px"},attrs:{data:t.formSent}},[n("el-table-column",{attrs:{prop:"id",label:"序号","min-width":"30"}}),n("el-table-column",{attrs:{prop:"name",label:"商品","min-width":"50"}}),n("el-table-column",{attrs:{prop:"risk",label:"预警信息","min-width":"50"},scopedSlots:t._u([{key:"default",fn:function(e){return["高风险"===e.row.risk?n("span",{staticStyle:{color:"red"}},[t._v(t._s(e.row.risk))]):"低风险"===e.row.risk?n("span",{staticStyle:{color:"green"}},[t._v(t._s(e.row.risk))]):t._e()]}}])}),n("el-table-column",{attrs:{prop:"date",label:"发布时间","min-width":"70"}}),n("el-table-column",{attrs:{label:"操作","min-width":"80"}})],1)],1),n("el-tab-pane",{attrs:{label:"已删除"}},[n("el-table",{staticStyle:{"font-size":"20px"},attrs:{data:t.formDeleted}},[n("el-table-column",{attrs:{prop:"id",label:"序号","min-width":"30"}}),n("el-table-column",{attrs:{prop:"name",label:"商品","min-width":"50"}}),n("el-table-column",{attrs:{prop:"risk",label:"预警信息","min-width":"50"},scopedSlots:t._u([{key:"default",fn:function(e){return["高风险"===e.row.risk?n("span",{staticStyle:{color:"red"}},[t._v(t._s(e.row.risk))]):"低风险"===e.row.risk?n("span",{staticStyle:{color:"green"}},[t._v(t._s(e.row.risk))]):t._e()]}}])}),n("el-table-column",{attrs:{prop:"date",label:"发布时间","min-width":"50"}}),n("el-table-column",{attrs:{label:"操作","min-width":"80"}})],1)],1)],1)],1)],1)],1)],1)},i=[],r=n("313e"),a=n.n(r),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"task-input-box"},[n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"130px"}},[n("el-form-item",{attrs:{label:"序号"}},[n("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1),n("el-form-item",{attrs:{label:"类别"}},[n("el-input",{attrs:{placeholder:"请输入操作员名称"},model:{value:t.operatorName,callback:function(e){t.operatorName=e},expression:"operatorName"}})],1),"修改"==this.riskin[0]?n("el-form-item",{attrs:{label:"修改"}},[n("el-input",{attrs:{placeholder:"请输入workingTime"},model:{value:t.workingTime,callback:function(e){t.workingTime=e},expression:"workingTime"}})],1):t._e(),"修改"!=this.riskin[0]?n("el-form-item",{attrs:{label:"预警信息"}},[n("el-input",{attrs:{placeholder:"请输入workingTime"},model:{value:t.workingTime,callback:function(e){t.workingTime=e},expression:"workingTime"}})],1):t._e(),n("el-button",{attrs:{type:"success"},on:{click:t.postAddress}},[t._v("立即创建")]),n("el-button",{attrs:{type:"info"},on:{click:t.abortForm}},[t._v("取消创建")])],1)],1)])},s=[],c=n("09ea"),u=(n("5f87"),["南方稀贵金属交易所","上海黄金交易所","中国金融期货商品交易所","江苏省大圆银泰贵金属","南京贵重金属交易所"]),d={data:function(){return{checkAll:!1,checkedCities:[],id:"",cities:u,isIndeterminate:!1,taskinputt:this.taskin,input:"",priority:"",humanUse:!1,dateStart:"",dateStart2:"",dateEnd:"",dateEnd2:"",workingTime:"",deadLine:"",timeadvise:"",content:"",tradeuser:!1,commodityName:"",admintrue:!1,operatorName:"",workStatus:""}},props:["riskin"],created:function(){console.log(this.riskin)},watch:{riskin:{handler:function(t){console.log(t)}}},computed:{address:function(){return console.log(this.taskin),""}},methods:{handleCheckAllChange:function(t){this.checkedCities=t?this.cities:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(t){console.log(this.checkedCities);var e=t.length;this.checkAll=e===this.cities.length,this.isIndeterminate=e>0&&e<this.cities.length},having:function(){return console.log(this.taskin),""!=this.taskin.id},postAddress:function(){var t=this;this.$confirm("是否确认创建该监管任务","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){for(var e="",n=0;n<t.checkedCities.length;n++)0==n&&(e+=t.checkedCities[n]),n>0&&(e+=","+t.checkedCities[n]);console.log(e),console.log("111"),t.content=e,t.postData(),t.$parent.$parent.reloadPage()})).catch((function(){console.log(t.checkedCities.length);for(var e="",n=0;n<t.checkedCities.length;n++)0==n&&(e+=t.checkedCities[n]),n>0&&(e+=","+t.checkedCities[n]);console.log(e)})),this.$parent.$parent.dialogTableVisible=!1},postData:function(){console.log("发送请求前");var t=new Date(this.dateStart2).getTime(),e=new Date(this.dateEnd2).getTime();console.log("elementui 时间形式"+t+"时间2："+e),console.log("humanuse:"+this.humanUse);var n=1==this.humanUse?1:0,o=null;"未分配"==this.workStatus&&(o=null),"已分配"===this.workStatus&&(o=0),"任务正常"===this.workStatus&&(o=1),"任务出现异常"===this.workStatus&&(o=2),null!=this.workStatus&&1!=this.workStatus&&0!=this.workStatus&&2!=this.workStatus||(o=this.workStatus);var i={id:this.id,name:this.input,priority:this.priority,humanUse:n,startTime:t,endTime:e,workingTime:this.workingTime,deadLine:this.deadLine,timeadvise:this.timeadvise,content:this.content,tradeuser:this.tradeuser,commodityName:this.commodityName,operatorName:this.operatorName,workStatus:o};console.log(i),Object(c["K"])(i).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))},abortForm:function(){console.log("zhioiiiiiii"),this.cleanForm(),this.$parent.$parent.dialogTableVisible=!1},cleanForm:function(){console.log("到这里了吗"),this.input="",this.priority="",this.humanUse=!1,this.tradeuser=!1,this.dateStart="",this.dateStart2="",this.dateEnd="",this.dateEnd2="",this.workingTime="",this.deadLine=""}}},m=d,h=(n("cf9d"),n("2877")),f=Object(h["a"])(m,l,s,!1,null,"1ef76f09",null),p=f.exports,g={name:"riskSurveillance",mounted:function(){this.drawChartRiskFrequency()},components:{riskStatusChange:p},data:function(){return{risktype:["","修改","送审","监控","删除"],dialogTableVisible:!1,formReleased:[{id:1,name:"大豆",risk:"高风险",date:"2020/01/01"},{id:2,name:"小麦",risk:"低风险",date:"2020/01/12"},{id:3,name:"菜籽油",risk:"低风险",date:"2020/01/04"},{id:4,name:"玉米",risk:"高风险",date:"2020/01/07"}],formPending:[{id:1,name:"大豆",risk:"高风险",date:"2020/01/01"}],formModified:[{id:1,name:"小麦",risk:"低风险",date:"2020/01/12"}],formSent:[{id:1,name:"菜籽油",risk:"低风险",date:"2020/01/04"}],formDeleted:[{id:1,name:"玉米",risk:"高风险",date:"2020/01/07"}]}},methods:{addNewTask1:function(t,e){var n=["","修改","送审","监控","删除"];n[0]=this.risktype[e],this.risktype=n,this.dialogTableVisible=!0},gotofirst:function(){this.$router.push("/trade/dashboard")},gotolast:function(){this.$router.push("/trade/riskPrediction/riskPage")},drawChartRiskFrequency:function(){var t=a.a.init(document.getElementById("chart-risk-frequency")),e={title:{text:"当月预警次数",left:"center"},tooltip:{show:!0},xAxis:{},yAxis:{type:"category",data:["小麦","大豆","玉米","棉花"]},series:[{type:"bar",barWidth:"50px",itemStyle:{normal:{color:function(t){var e=["#91cc75","#fac858","#ee6666","#73c0de"];return e[t.dataIndex]}}},data:[5,15,11,11]}]};t.setOption(e)}}},b=g,k=Object(h["a"])(b,o,i,!1,null,"b008343a",null);e["default"]=k.exports},c5d8:function(t,e,n){},cf9d:function(t,e,n){"use strict";var o=n("c5d8"),i=n.n(o);i.a}}]);
//# sourceMappingURL=chunk-d9a743ae.e0235fa0.js.map