{"version":3,"sources":["webpack:///./src/components/part1/riskPrediction/riskPrediction.vue?ec93","webpack:///src/components/part1/riskPrediction/riskPrediction.vue","webpack:///./src/components/part1/riskPrediction/riskPrediction.vue?fd78","webpack:///./src/components/part1/riskPrediction/riskPrediction.vue?b5f0","webpack:///./src/api/part1/riskPrediction.js","webpack:///./src/components/part1/riskPrediction/riskPrediction.vue?7f82"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","attrs","staticClass","staticRenderFns","component","getriskHistoryData","console","log","request","url","method","param","t","Date","getriskPredictionData","getVarDiff","getVarVolatility","getVarPredictVol"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOT,EAAW,QAAEU,WAAW,YAAYC,MAAM,CAAC,GAAK,QAAQ,uBAAuB,UAAU,CAACP,EAAG,MAAM,CAACQ,YAAY,MAAMD,MAAM,CAAC,GAAK,aAC/RE,EAAkB,G,iECQtB,GACE,KAAF,MACE,KAFF,WAGI,MAAJ,CACM,SAAN,GACM,SAAN,IAGE,QARF,WASI,IAAJ,mCACI,EAAJ,qCAEI,QAAJ,oBACA,wCACI,QAAJ,QAEE,QAhBF,WAiBI,KAAJ,WAEE,QAAF,CACI,QADJ,WACM,IAAN,OAEM,QAAN,cACM,OAAN,OAAM,GAAN,kBACQ,QAAR,6BACQ,EAAR,mBACQ,QAAR,mBACA,kBACQ,QAAR,8BAIM,QAAN,cACM,OAAN,OAAM,GAAN,kBACQ,QAAR,gCACQ,EAAR,sBACQ,QAAR,yCACQ,EAAR,iBACQ,QAAR,8BACA,kBACQ,QAAR,kCAcI,SAnCJ,SAmCA,GACM,KAAN,4CACM,IAAN,YACA,YACA,YACA,YAEA,KACM,EAAN,iBAGM,IAFA,IAAN,KACA,KACA,qCACQ,EAAR,wCACQ,EAAR,+CAIM,IAFA,IAAN,KACA,KACA,oBACQ,EAAR,6BACQ,IAAR,KACQ,EAAR,qBACQ,EAAR,sBACQ,EAAR,qBACQ,EAAR,oBACQ,EAAR,QAKM,SAAN,KAEQ,IADA,IAAR,KACA,uBACU,GAAV,IACY,EAAZ,cADU,CAKA,IADA,IAAV,IACA,YACY,GAAZ,UAEU,EAAV,UAGQ,OADA,QAAR,kBACA,EAjBM,EAAN,gBACM,QAAN,sBAkBM,KAAN,kBACQ,MAAR,CACU,KAAV,aACU,UAAV,CACY,SAAZ,IAEU,KAAV,GAEQ,QAAR,CACU,QAAV,OACU,YAAV,CACY,KAAZ,UAGQ,OAAR,CACU,KAAV,mCAEQ,MAAR,CACU,KAAV,WACU,KAAV,EACU,OAAV,EACU,aAAV,EACU,SAAV,CAAY,QAAZ,GACU,UAAV,CAAY,MAAZ,GACU,YAAV,GACU,IAAV,UACU,IAAV,WAEQ,MAAR,CACU,OAAV,EACU,UAAV,CACY,MAAZ,IAGQ,SAAR,CACA,CACU,KAAV,SACU,MAAV,GACU,IAAV,KAEA,CACU,MAAV,EACU,KAAV,SACU,IAAV,MACU,MAAV,GACU,IAAV,MAGQ,OAAR,EACU,KAAV,KACU,KAAV,cACU,KAAV,EACU,UAAV,CACY,MAAZ,EACY,OAAZ,EACY,YAAZ,EACY,aAAZ,GAEU,UAAV,CACY,MAAZ,CACc,OAAd,CACgB,UAAhB,YACkB,OAAlB,kCAIY,KAAZ,CACA,CACc,KAAd,OACc,MAAd,mBACc,MAAd,KACc,UAAd,CACgB,MAAhB,kBAGA,CACc,KAAd,gBACc,KAAd,MACc,SAAd,WAEA,CACc,KAAd,eACc,KAAd,MACc,SAAd,UAEA,CACc,KAAd,yBACc,KAAd,UACc,SAAd,UAGY,QAAZ,CACc,UAAd,YACgB,OAAhB,qCAKA,CACU,KAAV,aACU,KAAV,OACU,KAAV,KACU,QAAV,EACU,UAAV,CACY,QAAZ,KAGA,CACU,KAAV,OACU,KAAV,OACU,KAAV,MACU,QAAV,EACU,UAAV,CACY,QAAZ,KAGA,CACU,KAAV,OACU,KAAV,OACU,KAAV,MACU,QAAV,EACU,UAAV,CACY,QAAZ,QAMM,KAAN,cC5OsX,I,wBCQlXC,EAAY,eACd,EACAf,EACAc,GACA,EACA,KACA,KACA,MAIa,aAAAC,E,2CCnBf,0LAEO,SAASC,IAEZ,OADFC,QAAQC,IAAI,yBACHC,eAAQ,CACbC,IAAK,oBACLC,OAAQ,MACRC,MAAM,CAACC,EAAE,IAAIC,QAIZ,SAASC,IAEZ,OADAR,QAAQC,IAAI,yBACLC,eAAQ,CACbC,IAAK,qBACLC,OAAQ,MACRC,MAAM,CAACC,EAAE,IAAIC,QAIZ,SAASE,IACZ,OAAOP,eAAQ,CACXC,IAAK,YACLC,OAAQ,QAIT,SAASM,IACZ,OAAOR,eAAQ,CACXC,IAAK,kBACLC,OAAQ,QAIT,SAASO,IACZ,OAAOT,eAAQ,CACXC,IAAK,kBACLC,OAAQ,U,kCCrChB,yBAAyf,EAAG,G","file":"js/chunk-6a53c161.01fb80ae.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"id\":\"index\",\"element-loading-text\":\"拼命加载中\"}},[_c('div',{staticClass:\"box\",attrs:{\"id\":\"main\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n     <div id=\"index\" v-loading=\"loading\" element-loading-text=\"拼命加载中\">\n        <div id=\"main\" class=\"box\"></div>\n    </div>\n</template>\n<script>\n //   import axios from \"axios\";\n    import echarts from 'echarts'\n    import {getriskHistoryData,getriskPredictionData} from \"@/api/part1/riskPrediction\";\n    export default {\n        name: \"app\",\n        data() {\n            return {\n                itemList: [],\n                loading:true\n            }\n        },\n      mounted() {\n        let tiankong= document.getElementById(\"index\");\n        tiankong.style.height=window.innerHeight+\"px\"\n\n        console.log(tiankong.style.height)\n        let announcement=document.getElementById(\"announcement\");\n        console.log(tiankong)\n      },\n        created() {\n            this.getData();\n        },\n        methods: {\n            getData() {\n                // 获取历史交易数据\n                console.log(\"获取历史数据\")\n                getriskHistoryData().then((res) => {\n                console.log(\"History json :\"+res.data);\n                this.opinionData =res.data;\n                console.log(\"获取历史数据成功\")\n                }).catch(()=>{\n                    console.log(\"getHistoryData fail\")\n                });\n\n                // 获取第二天预测交易数据\n                console.log(\"获取预测数据\")\n                getriskPredictionData().then((res) => {\n                console.log(\"Prediction json :\"+res.data);\n                this.predictionData =res.data;\n                console.log(\"predictionData 是\"+this.predictionData);\n                this.drawLine('main');\n                console.log(\"TEXT.VUE--调用axios完成\");\n                }).catch(()=>{\n                    console.log(\"getPredictionData fail\")\n                });\n                /*\n               axios.get('../../static/json/prediction.json').then(response => {\n                    console.log(\"prediction json :\"+response.data);\n                    this.predictionData =response.data;\n                    console.log(\"predictionData 是\"+this.predictionData);\n                    this.drawLine('main');\n                    console.log(\"TEXT.VUE--调用axios完成\");\n                }, response => {\n                    console.log(\"error\");\n                });*/\n            },\n\n            drawLine(id){\n            this.charts = echarts.init(document.getElementById(id))\n            var upColor = '#ec0000';\n            var upBorderColor = '#8A0000';\n            var downColor = '#00da3c';\n            var downBorderColor = '#008F28';\n            // 将json文件存入数组\n            var values=[];\n            values = this.opinionData;\n            var predictionVAL = [];\n            var predictionDate = [];\n            for(let i=0; i<this.predictionData.length;i++){\n                predictionVAL.push(this.predictionData[i].closeprice);\n                predictionDate.push(this.predictionData[i].day.split('T')[0]);\n            }\n            var cataData = [];// 储存读入的日期\n            var priceData = [];// 存储读入的价格信息\n            for(var i= 0;i<values.length;i++){\n                cataData.push(values[i].day.split('T')[0]);\n                var price=[];\n                price.push(values[i].openprice);\n                price.push(values[i].closeprice);\n                price.push(values[i].highprice);\n                price.push(values[i].lowprice);\n                priceData.push(price);\n            }\n            cataData.push.apply(cataData,predictionDate);\n            console.log(\"cataData的内容是\" + cataData);\n\n            function calculateMA(dayCount) {\n                    var result = [];\n                    for (var i = 0, len = priceData.length; i < len; i++) {\n                    if (i < dayCount) {\n                    result.push('-');\n                    continue;\n                      }\n                   var sum = 0;\n                   for (var j = 0; j < dayCount; j++) {\n                   sum += priceData[i - j][1];\n                       }\n                   result.push(sum / dayCount);\n                       }\n                console.log(\"result =\" + result);\n                  return result;\n                       }\n            this.charts.setOption({\n                title: {\n                       text: '风\\n险\\n预\\n测',\n                       textStyle:{\n                           fontSize:30\n                       },\n                       left:0\n                       },\n                tooltip: {\n                       trigger: 'axis',\n                       axisPointer: {\n                       type: 'cross'\n                        }\n                       },\n                legend: {\n                    data: ['日K', 'PREDICTION',  'MA10', 'MA20']\n                },\n               xAxis: {\n                    type: 'category',\n                    data: cataData,\n                    scale: true,\n                    boundaryGap: false,\n                    axisLine: {onZero: false},\n                    splitLine: {show: false},\n                    splitNumber: 20,\n                    min: 'dataMin',\n                    max: 'dataMax'\n                      },\n                yAxis: {\n                    scale: true,\n                    splitArea: {\n                    show: true\n                       }\n                      },\n                dataZoom: [\n                      {\n                    type: 'inside',\n                    start: 50,\n                    end: 100\n                      },\n                      {\n                    show: true,\n                    type: 'slider',\n                    top: '90%',\n                    start: 50,\n                    end: 100\n                      }\n                      ],\n                series: [{\n                    name: '日K',\n                    type: 'candlestick',\n                    data: priceData,\n                    itemStyle: {\n                          color: upColor,\n                          color0: downColor,\n                          borderColor: upBorderColor,\n                          borderColor0: downBorderColor\n                               },\n                    markPoint: {\n                            label: {\n                           normal: {\n                         formatter: function (param) {\n                            return param != null ? Math.round(param.value) : '';\n                                 }\n                                 }\n                                },\n                        data: [\n                          {\n                            name: 'XX标点',\n                            coord: ['2013/5/31', 2300],\n                            value: 2300,\n                            itemStyle: {\n                            color: 'rgb(41,60,85)'\n                            }\n                          },\n                         {\n                            name: 'highest value',\n                            type: 'max',\n                            valueDim: 'highest'\n                         },\n                         {\n                            name: 'lowest value',\n                            type: 'min',\n                            valueDim: 'lowest'\n                         },\n                          {\n                          name: 'average value on close',\n                          type: 'average',\n                          valueDim: 'close'\n                          }\n                          ],\n                     tooltip: {\n                     formatter: function (param) {\n                          return param.name + '<br>' + (param.data.coord || '');\n                         }\n                       }\n                       },\n                },\n                     {\n                    name: 'PREDICTION',\n                    type: 'line',\n                    data: calculateMA(5),\n                    smooth: true,\n                    lineStyle: {\n                    opacity: 0.5\n                       }\n                       },\n                    {\n                    name: 'MA10',\n                    type: 'line',\n                    data: calculateMA(10),\n                    smooth: true,\n                    lineStyle: {\n                    opacity: 0.5\n                       }\n                       },\n                        {\n                    name: 'MA20',\n                    type: 'line',\n                    data: calculateMA(20),\n                    smooth: true,\n                    lineStyle: {\n                    opacity: 0.5\n                       }\n                       },\n\n                ]\n            })\n                this.loading = false\n\n            }\n        }\n    }\n</script>\n\n<style>\n.index{\n  width: 100%;\n  height: 600px;\n}\n.box{\n    width: 1000px;\n    height: 600px\n}\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./riskPrediction.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./riskPrediction.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./riskPrediction.vue?vue&type=template&id=5492cbac&\"\nimport script from \"./riskPrediction.vue?vue&type=script&lang=js&\"\nexport * from \"./riskPrediction.vue?vue&type=script&lang=js&\"\nimport style0 from \"./riskPrediction.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request'\n\nexport function getriskHistoryData() {\n  console.log(\"发送getPredictionData请求\")\n    return request({\n      url: '/HMM/price/search',\n      method: 'get',\n      param:{t:new Date()}\n    })\n  }\n\nexport function getriskPredictionData() {\n    console.log(\"发送getPredictionData请求\")\n    return request({\n      url: '/HMM/nextDay/price',\n      method: 'get',\n      param:{t:new Date()}\n    })\n  }\n\nexport function getVarDiff() {\n    return request({\n        url: '/VaR/diff',\n        method: 'get',\n    })\n}\n\nexport function getVarVolatility() {\n    return request({\n        url: '/VaR/volatility',\n        method: 'get',\n    })\n}\n\nexport function getVarPredictVol() {\n    return request({\n        url: '/VaR/predictVol',\n        method: 'get',\n    })\n}\n\n\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./riskPrediction.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./riskPrediction.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}