(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21cbaa1e"],{"49b2":function(t,e,i){},"5c17":function(t,e,i){"use strict";var a=i("49b2"),n=i.n(a);n.a},"68fe":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{attrs:{title:"任务信息反馈",visible:t.dialogTableVisible,center:"","append-to-body":!0,"lock-scroll":!1,width:"30%","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[i("taskInputFormChange",{attrs:{taskin:t.taskin}})],1),i("el-dialog",{attrs:{title:"操作员设置",visible:t.dialogTableVisible2,center:"","append-to-body":!0,"lock-scroll":!1,width:"30%","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogTableVisible2=e}}},[i("operatorChange",{attrs:{taskin:t.taskin2,operatorin:t.operatorin,modity:t.modity}})],1),i("el-dialog",{attrs:{title:"任务信息查看",visible:t.dialogTableVisible3,center:"","append-to-body":!0,"lock-scroll":!1,width:"30%","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogTableVisible3=e}}},[i("taskInputFormShow",{attrs:{taskin:t.taskin3}})],1),i("div",[i("el-button",{staticStyle:{"margin-left":"15px","margin-right":"14px"},attrs:{type:"primary"},on:{click:t.changeform12}},[t._v("表格视图")]),i("el-button",{staticStyle:{"margin-left":"15px","margin-right":"14px"},attrs:{type:"primary"},on:{click:t.changeform21}},[t._v("流程图视图")]),i("el-button",{staticStyle:{"margin-left":"15px","margin-right":"14px"},attrs:{type:"primary"},on:{click:t.changeform3}},[t._v("操作员视图")]),i("el-button",{staticStyle:{"margin-left":"15px","margin-right":"14px"},attrs:{type:"primary"},on:{click:function(e){return t.changeOperator("new")}}},[t._v("新增操作员")])],1),i("div",[i("div",{attrs:{id:"echart1"}},[i("div",[t._v(" * 1.将鼠标悬空在任务节点上方，可显示详细任务信息 2.可拖动节点方便查看 ")]),i("method1",{ref:"method1_child"})],1),i("div",[t._v(" 当前监管任务 ")]),i("div",{attrs:{id:"form2"}},[i("el-table",{ref:"dormitoryTable2",staticStyle:{width:"100%"},attrs:{data:t.dormitory2.slice((t.currentPage-1)*t.PageSize,t.currentPage*t.PageSize),"tooltip-effect":"dark",stripe:"",border:""}},[i("el-table-column",{attrs:{type:"selection",width:"45"}}),i("el-table-column",{attrs:{label:"序号",prop:"id",width:"60"}}),i("el-table-column",{attrs:{label:"监管任务名称",prop:"name"}}),i("el-table-column",{attrs:{label:"任务优先级",prop:"priority",width:"50"}}),i("el-table-column",{attrs:{label:"任务执行时间",prop:"workingTime",width:"60"}})],1),i("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":t.pageSizes,"page-size":t.PageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.totalCount2},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]),i("div",{staticStyle:{display:"none"},attrs:{id:"form3"}},[i("el-table",{ref:"dormitoryTable3",staticStyle:{width:"100%"},attrs:{data:t.modalitydata.slice((t.currentPage-1)*t.PageSize,t.currentPage*t.PageSize),"tooltip-effect":"dark",stripe:"",border:""}},[i("el-table-column",{attrs:{label:"序号",prop:"id",width:"60"}}),i("el-table-column",{attrs:{label:"操作员名称",prop:"name"}}),i("el-table-column",{attrs:{label:"是否被占用",prop:"allocation",width:"60"}}),i("el-table-column",{attrs:{label:"当前任务编号",prop:"taskId",width:"60"}}),i("el-table-column",{attrs:{label:"主被动模态",prop:"taskId"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-link",{attrs:{type:"primary"}},[i("div",{on:{click:function(i){return t.gotoDetail(e.row)}}},[t._v(" "+t._s(e.row.taskId)+" ")])])]}}])}),i("el-table-column",{attrs:{label:"操作员设置",fixed:"right","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.changeOperator(e.row)}}},[t._v("操作员修改")])]}}])})],1),i("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":t.pageSizes,"page-size":t.PageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.totalCount3},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),t.usertrue?i("el-table",{staticStyle:{width:"60%",margin:"auto"},attrs:{"show-header":!1,data:t.tabledata3,border:""}},[i("el-table-column",{attrs:{prop:"neirong",label:"ID"}}),i("el-table-column",{attrs:{prop:"shuzhi"}})],1):t._e()],1),i("div",{staticStyle:{display:"none"},attrs:{id:"form"}},[i("el-table",{ref:"dormitoryTable",staticStyle:{width:"100%"},attrs:{data:t.dormitory.slice((t.currentPage-1)*t.PageSize,t.currentPage*t.PageSize),"tooltip-effect":"dark",stripe:"",border:""}},[i("el-table-column",{attrs:{type:"selection",width:"45"}}),i("el-table-column",{attrs:{label:"序号",prop:"id",width:"60"}}),i("el-table-column",{attrs:{label:"监管任务名称",prop:"name"}}),i("el-table-column",{attrs:{label:"任务优先级",sortable:"","sort-orders":["ascending","descending",null],"sort-by":["priority"],prop:"priority",width:"60"}}),i("el-table-column",{attrs:{label:"任务执行时间",prop:"workingTime",width:"60"}}),i("el-table-column",{attrs:{label:"商品名称",prop:"commodityName"}}),i("el-table-column",{attrs:{label:"任务状态",prop:"workStatus"}}),i("el-table-column",{attrs:{label:"模态粒度补充",fixed:"right","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.changetask(e)}}},[t._v("属性修改")])]}}])})],1),i("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":t.pageSizes,"page-size":t.PageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},n=[],o=(i("b0c0"),i("a9e3"),i("c826")),s=i("0661"),l=i("5f87"),r=i("09ea"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"task-input-box"},[i("el-form",{attrs:{"label-width":"130px"}},[i("el-form-item",{attrs:{label:"监管任务名称"}},[i("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1),this.admintrue?i("el-form-item",{attrs:{label:"监管任务优先级"}},[i("el-select",{attrs:{placeholder:"请选择任务优先级"},model:{value:t.priority,callback:function(e){t.priority=e},expression:"priority"}},[i("el-option",{attrs:{label:"级别一",value:"1"}}),i("el-option",{attrs:{label:"级别二",value:"2"}}),i("el-option",{attrs:{label:"级别三",value:"3"}}),i("el-option",{attrs:{label:"级别四",value:"4"}}),i("el-option",{attrs:{label:"级别五",value:"5"}})],1)],1):t._e(),this.admintrue?i("el-form-item",{attrs:{label:"是否人工分配"}},[i("el-switch",{attrs:{"active-text":"人工分配"},model:{value:t.humanUse,callback:function(e){t.humanUse=e},expression:"humanUse"}})],1):t._e(),this.admintrue?i("el-form-item",{attrs:{label:"是否主动监管"}},[i("el-switch",{attrs:{"active-text":"主动监管"},model:{value:t.tradeuser,callback:function(e){t.tradeuser=e},expression:"tradeuser"}})],1):t._e(),this.admintrue?i("el-form-item",{attrs:{label:"操作员"}},[i("el-input",{attrs:{placeholder:"请输入操作员名称"},model:{value:t.operatorName,callback:function(e){t.operatorName=e},expression:"operatorName"}})],1):t._e(),"未分配"!=t.workStatus?i("el-form-item",{attrs:{label:"任务状态"}},[i("el-select",{attrs:{placeholder:"请选择任务状态"},model:{value:t.workStatus,callback:function(e){t.workStatus=e},expression:"workStatus"}},[i("el-option",{attrs:{label:"任务未执行",value:"0"}}),i("el-option",{attrs:{label:"任务正常",value:"1"}}),i("el-option",{attrs:{label:"任务异常",value:"2"}})],1)],1):t._e(),i("el-form-item",{attrs:{label:"工作时间"}},[i("el-input",{attrs:{placeholder:"请输入workingTime"},model:{value:t.workingTime,callback:function(e){t.workingTime=e},expression:"workingTime"}})],1),i("el-form-item",{attrs:{label:"截止时间"}},[i("el-input",{attrs:{type:"number",placeholder:"如非末尾任务请勿输入"},model:{value:t.deadLine,callback:function(e){t.deadLine=e},expression:"deadLine"}})],1),i("el-form-item",{attrs:{label:"内容"}},[i("el-popover",{attrs:{trigger:"hover",placement:"top",width:"\n                300"}},[i("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v("全选")]),i("div",{staticStyle:{margin:"15px 0"}}),i("el-checkbox-group",{on:{change:t.handleCheckedCitiesChange},model:{value:t.checkedCities,callback:function(e){t.checkedCities=e},expression:"checkedCities"}},t._l(t.cities,(function(e){return i("el-checkbox",{key:e,attrs:{label:e}},[t._v(t._s(e))])})),1),i("el-button",{staticClass:"popbut",attrs:{slot:"reference",id:"neirong"},slot:"reference"},[t._v(t._s(t.content))])],1)],1),i("el-button",{attrs:{type:"success"},on:{click:t.postAddress}},[t._v("立即创建")]),i("el-button",{attrs:{type:"info"},on:{click:t.abortForm}},[t._v("取消创建")])],1)],1)])},h=[],d=["南方稀贵金属交易所","上海黄金交易所","中国金融期货商品交易所","江苏省大圆银泰贵金属","南京贵重金属交易所"],u={data:function(){return{checkAll:!1,checkedCities:[],id:"",cities:d,isIndeterminate:!1,taskinputt:this.taskin,input:"",priority:"",humanUse:"",dateStart:"",dateStart2:"",dateEnd:"",dateEnd2:"",workingTime:"",deadLine:"",timeadvise:"",content:"",tradeuser:!1,commodityName:"",admintrue:!1,operatorName:"",workStatus:""}},props:["taskin"],created:function(){this.admintrue="admin"==Object(l["a"])(),this.id=this.taskin.id,this.input=this.taskin.name,this.priority=this.taskin.priority,this.humanUse=this.taskin.humanUse,this.workingTime=this.taskin.workingTime,this.deadLine=this.taskin.deadLine,this.content=this.taskin.content,this.operatorName=this.taskin.operatorName,console.log(this.taskin.workStatus),this.workStatus=this.taskin.workStatus},computed:{address:function(){return console.log(this.taskin),""}},watch:{"taskin.id":function(){console.log("flag变了"),console.log(this.taskin),this.id=this.taskin.id,this.input=this.taskin.name,this.priority=this.taskin.priority?this.taskin.priority:1,this.commodityName=this.taskin.commodityName,this.workingTime=this.taskin.workingTime,this.deadLine=this.taskin.deadLine,this.humanUse=this.taskin.humanUse,this.content=this.taskin.content,this.operatorName=this.taskin.operatorName,this.workStatus=this.taskin.workStatus,this.content||(this.content="暂时未分配"),"是"==this.taskin.humanUse&&(this.humanUse=1),"否"==this.taskin.humanUse&&(this.humanUse=0),this.taskin.changeflag==Number.POSITIVE_INFINITY&&this.cleanForm();var t=document.getElementById("neirong");console.log(t.text)}},methods:{handleCheckAllChange:function(t){this.checkedCities=t?this.cities:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(t){console.log(this.checkedCities);var e=t.length;this.checkAll=e===this.cities.length,this.isIndeterminate=e>0&&e<this.cities.length},having:function(){return console.log(this.taskin),""!=this.taskin.id},postAddress:function(){var t=this;this.$confirm("是否确认创建该监管任务","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){for(var e="",i=0;i<t.checkedCities.length;i++)0==i&&(e+=t.checkedCities[i]),i>0&&(e+=","+t.checkedCities[i]);console.log(e),console.log("111"),t.content=e,t.postData(),t.$parent.$parent.reloadPage()})).catch((function(){console.log(t.checkedCities.length);for(var e="",i=0;i<t.checkedCities.length;i++)0==i&&(e+=t.checkedCities[i]),i>0&&(e+=","+t.checkedCities[i]);console.log(e)})),this.$parent.$parent.dialogTableVisible=!1},postData:function(){console.log("发送请求前");var t=new Date(this.dateStart2).getTime(),e=new Date(this.dateEnd2).getTime();console.log("elementui 时间形式"+t+"时间2："+e),console.log("humanuse:"+this.humanUse);var i="无"==this.priority?0:this.priority,a=1==this.humanUse||"是"==this.humanUse?1:0,n=null;"未分配"==this.workStatus&&(n=null),"已分配"===this.workStatus&&(n=0),"任务正常"===this.workStatus&&(n=1),"任务出现异常"===this.workStatus&&(n=2),null!=this.workStatus&&1!=this.workStatus&&0!=this.workStatus&&2!=this.workStatus||(n=this.workStatus);var o={id:this.id,name:this.input,priority:i,humanUse:a,startTime:t,endTime:e,workingTime:this.workingTime,deadLine:this.deadLine,timeadvise:this.timeadvise,content:this.content,tradeuser:this.tradeuser,commodityName:this.commodityName,operatorName:this.operatorName,workStatus:n};console.log(o),Object(r["K"])(o).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))},abortForm:function(){console.log("zhioiiiiiii"),this.cleanForm(),this.$parent.$parent.dialogTableVisible=!1},cleanForm:function(){console.log("到这里了吗"),this.input="",this.priority="",this.humanUse=!1,this.tradeuser=!1,this.dateStart="",this.dateStart2="",this.dateEnd="",this.dateEnd2="",this.workingTime="",this.deadLine=""}}},m=u,p=(i("d4da"),i("2877")),k=Object(p["a"])(m,c,h,!1,null,"c79bd0cc",null),g=k.exports,f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"task-input-box"},[i("el-form",{attrs:{"label-width":"130px"}},[i("el-form-item",{attrs:{label:"监管任务名称"}},[i("el-input",{attrs:{placeholder:"请输入内容",disabled:"true"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1),t._v(" = "),i("el-form-item",{attrs:{label:"操作员"}},[i("el-input",{attrs:{placeholder:"请输入操作员名称",disabled:"true"},model:{value:t.operatorName,callback:function(e){t.operatorName=e},expression:"operatorName"}})],1),"未分配"!=t.workStatus?i("el-form-item",{attrs:{label:"任务状态"}},[i("el-select",{attrs:{placeholder:"请选择任务状态",disabled:"true"},model:{value:t.workStatus,callback:function(e){t.workStatus=e},expression:"workStatus"}},[i("el-option",{attrs:{label:"任务未执行",value:"0"}}),i("el-option",{attrs:{label:"任务正常",value:"1"}}),i("el-option",{attrs:{label:"任务异常",value:"2"}})],1)],1):t._e(),i("el-form-item",{attrs:{label:"工作时间"}},[i("el-input",{attrs:{placeholder:"请输入workingTime"},model:{value:t.workingTime,callback:function(e){t.workingTime=e},expression:"workingTime"}})],1)],1)],1)])},b=[],y={data:function(){return{checkAll:!1,id:"",isIndeterminate:!1,taskinputt:this.taskin,input:"",priority:"",humanUse:"",dateStart:"",dateStart2:"",dateEnd:"",dateEnd2:"",workingTime:"",deadLine:"",timeadvise:"",content:"",tradeuser:!1,commodityName:"",admintrue:!1,operatorName:"",workStatus:""}},props:["taskin"],created:function(){this.id=this.taskin.id,this.input=this.taskin.name,this.priority=this.taskin.priority,this.humanUse=this.taskin.humanUse,this.workingTime=this.taskin.workingTime,this.deadLine=this.taskin.deadLine,this.content=this.taskin.content,this.operatorName=this.taskin.operatorName,console.log(this.taskin.workStatus),this.workStatus=this.taskin.workStatus},computed:{address:function(){return console.log(this.taskin),""}},watch:{"taskin.id":function(){console.log("flag变了"),this.id=this.taskin.id,this.input=this.taskin.name,this.priority=this.taskin.priority?this.taskin.priority:1,this.commodityName=this.taskin.commodityName,this.workingTime=this.taskin.workingTime,this.deadLine=this.taskin.deadLine,this.humanUse=this.taskin.humanUse,this.content=this.taskin.content,this.operatorName=this.taskin.operatorName,this.workStatus=this.taskin.workStatus,this.content||(this.content="暂时未分配"),"是"==this.taskin.humanUse&&(this.humanUse=1),"否"==this.taskin.humanUse&&(this.humanUse=0),this.taskin.changeflag==Number.POSITIVE_INFINITY&&this.cleanForm();var t=document.getElementById("neirong");console.log(t.text)}},methods:{handleCheckAllChange:function(t){this.checkedCities=t?this.cities:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(t){console.log(this.checkedCities);var e=t.length;this.checkAll=e===this.cities.length,this.isIndeterminate=e>0&&e<this.cities.length},having:function(){return console.log(this.taskin),""!=this.taskin.id},abortForm:function(){console.log("zhioiiiiiii"),this.cleanForm(),this.$parent.$parent.dialogTableVisible3=!1},cleanForm:function(){console.log("到这里了吗"),this.input="",this.priority="",this.humanUse=!1,this.tradeuser=!1,this.dateStart="",this.dateStart2="",this.dateEnd="",this.dateEnd2="",this.workingTime="",this.deadLine=""}}},w=y,v=(i("5c17"),Object(p["a"])(w,f,b,!1,null,"16a3b352",null)),S=v.exports,T=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"task-input-box"},[i("el-form",{ref:"form",attrs:{model:t.form,"label-width":"130px"}},[i("el-form-item",{attrs:{label:"用户名称"}},[i("el-select",{model:{value:t.id,callback:function(e){t.id=e},expression:"id"}},t._l(t.operatorinput,(function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),i("el-form-item",{attrs:{label:"操作员名称"}},[i("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),i("el-button",{attrs:{type:"success"},on:{click:t.postAddress}},[t._v("确认设置")]),i("el-button",{attrs:{type:"info"},on:{click:t.abortForm}},[t._v("取消")])],1)],1)])},C=[],I=["南方稀贵金属交易所","上海黄金交易所","中国金融期货商品交易所","江苏省大圆银泰贵金属","南京贵重金属交易所"],N={data:function(){return{checkAll:!1,checkedCities:[],id:"",cities:I,isIndeterminate:!1,taskinputt:this.taskin,name:"",humanUse:"",workingTime:"",deadLine:"",timeadvise:"",content:"",tradeuser:!1,commodityName:"",admintrue:!1,operatorName:"",workStatus:"",operatorinput:[]}},props:["taskin","operatorin","modity"],created:function(){this.operatorinput=this.operatorin,this.id=this.taskin.id,this.name=this.taskin.name,this.priority=this.taskin.priority,this.humanUse=this.taskin.humanUse,this.workingTime=this.taskin.workingTime,this.deadLine=this.taskin.deadLine,this.content=this.taskin.content,this.operatorName=this.taskin.operatorName,console.log(this.taskin.workStatus),this.workStatus=this.taskin.workStatus},computed:{},watch:{"taskin.name":function(){console.log("名字变了"),console.log(this.taskin),this.id=this.taskin.id,this.name=this.taskin.name,this.priority=this.taskin.priority?this.taskin.priority:1,this.commodityName=this.taskin.commodityName,this.workingTime=this.taskin.workingTime,this.deadLine=this.taskin.deadLine,this.humanUse=this.taskin.humanUse,this.content=this.taskin.content,this.operatorName=this.taskin.operatorName,this.workStatus=this.taskin.workStatus,this.content||(this.content="暂时未分配"),"是"==this.taskin.humanUse&&(this.humanUse=1),"否"==this.taskin.humanUse&&(this.humanUse=0),this.taskin.changeflag==Number.POSITIVE_INFINITY&&this.cleanForm();var t=document.getElementById("neirong");console.log(t.text)}},methods:{handleCheckAllChange:function(t){this.checkedCities=t?this.cities:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(t){console.log(this.checkedCities);var e=t.length;this.checkAll=e===this.cities.length,this.isIndeterminate=e>0&&e<this.cities.length},having:function(){return console.log(this.taskin),""!=this.taskin.id},postAddress:function(){var t=this;this.$confirm("是否确认创建该监管任务","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){for(var e="",i=0;i<t.checkedCities.length;i++)0==i&&(e+=t.checkedCities[i]),i>0&&(e+=","+t.checkedCities[i]);console.log(e),console.log("111"),t.content=e,t.postData(),t.$parent.$parent.reloadPage()})).catch((function(){console.log(t.checkedCities.length);for(var e="",i=0;i<t.checkedCities.length;i++)0==i&&(e+=t.checkedCities[i]),i>0&&(e+=","+t.checkedCities[i]);console.log(e)})),this.$parent.$parent.dialogTableVisible2=!1},postData:function(){var t={};t=null!=this.modity?{id:this.modity.id,name:this.modity.name,team:this.modity.team,num:this.modity.num,allocation:"是"==this.modity.allocation,taskId:this.modity.taskId,taskName:this.modity.taskName,releaseTime:this.modity.releaseTime,type:this.modity.type,operatorId:this.modity.operatorId,userId:this.id}:{id:null,name:this.name,team:null,num:null,allocation:null,taskId:null,taskName:null,releaseTime:null,type:null,operatorId:null,userId:this.id},console.log(t),Object(r["h"])(t).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))},abortForm:function(){console.log("zhioiiiiiii"),this.cleanForm(),this.$parent.$parent.dialogTableVisible=!1},cleanForm:function(){console.log("到这里了吗"),this.input="",this.priority="",this.humanUse=!1,this.tradeuser=!1,this.dateStart="",this.dateStart2="",this.dateEnd="",this.dateEnd2="",this.workingTime="",this.deadLine=""}}},x=N,_=(i("f913"),Object(p["a"])(x,T,C,!1,null,"7254d45c",null)),U=_.exports,z={name:"taskQueryFlowChart",components:{method1:o["a"],taskInputFormChange:g,taskInputFormShow:S,operatorChange:U},mounted:function(){this.getData(),this.getData2(),"admin"==Object(l["a"])()&&(this.usertrue=!1),"user"==Object(l["a"])()&&(this.modality(),this.usertrue=!0)},created:function(){var t=this;this.getData1(),Object(r["l"])().then((function(e){console.log(e.data.data);var i=e.data.data;t.allusers=i,t.operatorin=i})).catch((function(){console.log("getallusers fail")}));var e="/getModalityByUserId/"+Object(l["b"])();Object(r["m"])(e).then((function(e){console.log(e),e.data.data&&t.dealwithOperatorData(e.data.data)})).catch((function(){console.log("getallusers fail")}))},data:function(){return{tabledata3:[],usertrue:!0,prioritychoose:[1,2,3],caozuoyuankey:[],caozuoyuanvalue:[],modalitydata:[],dormitory:[],modity:[],dormitory2:[],dorshow:[],currentPage:1,totalCount2:10,totalCount3:10,totalCount:100,pageSizes:[5,10],PageSize:10,dialogTableVisible:!1,dialogTableVisible2:!1,dialogTableVisible3:!1,taskin:{changeflag:Number.NEGATIVE_INFINITY},allusers:[],taskin2:[],taskin3:[],operatorin:[]}},methods:{modality:function(t){var e=this;Object(r["D"])().then((function(t){console.log(t.data.data),e.dealwithData3(t.data.data)})).catch((function(){console.log("getTransactionData fail")}))},changetask:function(t){this.taskin=t.row,this.taskin.changeflag=this.taskin.id,this.addNewTask1()},getData2:function(){var t=this;Object(r["n"])().then((function(e){console.log(e.data.data),t.dealwithData2(e.data.data)})).catch((function(){console.log("getTransactionData fail")}))},addNewTask1:function(){console.log(this.taskin),this.dialogTableVisible=!0},gotoDetail:function(t){if(this.dialogTableVisible3=!0,console.log(t),console.log(t.taskId),console.log(this.dorshow),t.taskId){var e=[];console.log(this.dormitory),e=this.dormitory;for(var i=0;i<e.length;i++)if(e[i].id==t.taskId){this.taskin3=e[i],console.log("aaa"),console.log(this.taskin3);break}}},changeOperator:function(t){if("new"!=t){var e=[];this.modity=t,console.log(t),e.name=t.name,this.taskin2=e,console.log(this.taskin2.name)}else{var i=[];i.name="",this.taskin2=i,this.modity=null,console.log(this.modity),console.log(this.taskin2.name)}this.dialogTableVisible2=!0},getData1:function(){var t=this;console.log("获取表格数据"),Object(r["L"])().then((function(e){console.log(e.data.data),t.dealwithData(e.data.data)})).catch((function(){console.log("getTransactionData fail")}))},handleSizeChange:function(t){this.PageSize=t,this.currentPage=1},handleCurrentChange:function(t){this.currentPage=t},getData:function(){var t=this;Object(s["d"])().then((function(e){var i=e.data;t.dealwithData(i),console.log(i)})).catch((function(){console.log("getTaskApi fail")}))},changeform12:function(){document.getElementById("echart1").style.display="none",document.getElementById("form").style.display="block",document.getElementById("form2").style.display="none",document.getElementById("form3").style.display="none"},changeform21:function(){document.getElementById("form").style.display="none",document.getElementById("echart1").style.display="block",document.getElementById("form2").style.display="block",document.getElementById("form3").style.display="none"},changeform3:function(){document.getElementById("form").style.display="none",document.getElementById("form2").style.display="none",document.getElementById("echart1").style.display="none",document.getElementById("form3").style.display="block"},dealwithData:function(t){var e=[];e=t,this.totalCount=e.length;for(var i=0;i<e.length;i++)0==e[i].priority&&(e[i].priority="无"),e[i].humanUse?e[i].humanUse="是":e[i].humanUse="否",e[i].timeadvise||(e[i].timeadvise="否"),e[i].commodityName||(e[i].commodityName="暂无"),e[i].content||(e[i].content="暂时未分配"),e[i].team||(e[i].team="暂时未分配"),null==e[i].workStatus&&(e[i].workStatus="未分配"),0===e[i].workStatus&&(e[i].workStatus="已分配"),1===e[i].workStatus&&(e[i].workStatus="任务正常"),2===e[i].workStatus&&(e[i].workStatus="任务出现异常");e.reverse(),this.dormitory=e,this.dorshow=e,console.log(this.dormitory),console.log(this.dorshow)},dealwithData2:function(t){var e=[];e=t,this.totalCount2=e.length;for(var i=0;i<e.length;i++)e[i].humanUse?e[i].humanUse="是":e[i].humanUse="否",e[i].timeadvise||(e[i].timeadvise="否"),e[i].commodityName||(e[i].commodityName="暂无"),e[i].content||(e[i].content="暂时未分配"),e[i].team||(e[i].team="暂时未分配"),null==e[i].workStatus&&(e[i].workStatus="未分配"),0===e[i].workStatus&&(e[i].workStatus="已分配"),1===e[i].workStatus&&(e[i].workStatus="任务正常"),2===e[i].workStatus&&(e[i].workStatus="任务出现异常");e.reverse(),this.dormitory2=e,console.log(this.dormitory2)},dealwithOperatorData:function(t){console.log(t);var e=[],i=[],a={};for(var n in t){e.push(n),i.push(t[n]),a["neirong"]=n,a["shuzhi"]=t[n];var o={neirong:n,shuzhi:t[n]};this.tabledata3.push(o),console.log(this.tabledata3),console.log(e.length)}},dealwithData3:function(t){this.modalitydata=t,this.totalCount3=this.modalitydata.length;for(var e=0;e<this.modalitydata.length;e++)this.modalitydata[e].allocation?this.modalitydata[e].allocation="是":(this.modalitydata[e].allocation="否",this.modalitydata[e].taskId="无")},allocateTask:function(){Object(r["I"])().then((function(t){console.log(t)})).catch((function(t){console.log(t)}))}}},E=z,D=Object(p["a"])(E,a,n,!1,null,"b3dea6e2",null);e["default"]=D.exports},cda4:function(t,e,i){},d4da:function(t,e,i){"use strict";var a=i("cda4"),n=i.n(a);n.a},e82c:function(t,e,i){},f913:function(t,e,i){"use strict";var a=i("e82c"),n=i.n(a);n.a}}]);
//# sourceMappingURL=chunk-21cbaa1e.3925ef43.js.map