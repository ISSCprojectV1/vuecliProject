(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d1dbc33"],{"0174":function(t,e,a){},"09ea":function(t,e,a){"use strict";a.d(e,"F",(function(){return o})),a.d(e,"H",(function(){return r})),a.d(e,"o",(function(){return i})),a.d(e,"E",(function(){return l})),a.d(e,"k",(function(){return c})),a.d(e,"f",(function(){return u})),a.d(e,"g",(function(){return s})),a.d(e,"h",(function(){return d})),a.d(e,"G",(function(){return g})),a.d(e,"I",(function(){return m})),a.d(e,"m",(function(){return h})),a.d(e,"p",(function(){return f})),a.d(e,"u",(function(){return p})),a.d(e,"a",(function(){return b})),a.d(e,"i",(function(){return y})),a.d(e,"B",(function(){return v})),a.d(e,"e",(function(){return S})),a.d(e,"j",(function(){return w})),a.d(e,"t",(function(){return j})),a.d(e,"A",(function(){return O})),a.d(e,"v",(function(){return A})),a.d(e,"w",(function(){return D})),a.d(e,"d",(function(){return z})),a.d(e,"b",(function(){return T})),a.d(e,"y",(function(){return k})),a.d(e,"z",(function(){return x})),a.d(e,"c",(function(){return P})),a.d(e,"x",(function(){return C})),a.d(e,"C",(function(){return _})),a.d(e,"D",(function(){return I})),a.d(e,"q",(function(){return N})),a.d(e,"s",(function(){return R})),a.d(e,"J",(function(){return G})),a.d(e,"n",(function(){return E})),a.d(e,"r",(function(){return q})),a.d(e,"l",(function(){return M}));var n=a("b775");function o(){return console.log("spaceResult"),Object(n["a"])({url:"/spaceresult",method:"get"})}function r(t){return console.log("发送taskInput请求"),Object(n["a"])({url:"/task",method:"post",data:t})}function i(){return console.log("getReadyQueue"),Object(n["a"])({url:"/getReadyQueue",method:"get"})}function l(){return console.log("/modality"),Object(n["a"])({url:"/modality",method:"get"})}function c(){return console.log("发送/getAllUsers请求"),Object(n["a"])({url:"/getAllUsers",method:"get"})}function u(){return console.log("发送bourseget请求"),Object(n["a"])({url:"/getAllbourse",method:"get"})}function s(t){return console.log("发送/modality请求"),Object(n["a"])({url:"/modality",method:"post",data:t})}function d(){return console.log("发送时间粒度请求"),Object(n["a"])({url:"/getTimeadvise",method:"get"})}function g(){return console.log("发送taskAllocation 请求"),Object(n["a"])({url:"/taskAllocation",method:"get"})}function m(){return console.log("获取taskQuery表格数据"),Object(n["a"])({url:"/task",method:"get"})}function h(t){return console.log("获取getModalityByUserId数据 "),Object(n["a"])({url:t,method:"get"})}function f(t){return console.log("获取getRolenameById数据 "),Object(n["a"])({url:t,method:"get"})}function p(){return console.log("获取商品信息表格数据！！！"),Object(n["a"])({url:"/getcommodityInfomation",method:"get"})}function b(t){return console.log("添加商品信息数据！！！"),Object(n["a"])({url:"/addcommodityInfomation",method:"post",data:t})}function y(t){return console.log("删除商品！！！"),Object(n["a"])({url:t,method:"get"})}function v(){return console.log("获取品类表格数据！！！"),Object(n["a"])({url:"/getcommodityVariety",method:"get"})}function S(t){return console.log("添加品类！！！"),Object(n["a"])({url:"/addcommodityVariety",method:"post",data:t})}function w(t){return console.log("删除品类！！！"),Object(n["a"])({url:t,method:"get"})}function j(t){return console.log("根据商品名称 获得商品历史价格信息！！！"),Object(n["a"])({url:t,method:"get"})}function O(){return console.log("获得 商品交易数据集。！！！"),Object(n["a"])({url:"/getcommodityTransaction",method:"get"})}function A(){return console.log("获得 关联商品数据集！！！"),Object(n["a"])({url:"/getcommodityTransaction2",method:"get"})}function D(){return console.log("获得 详细关联商品数据集！！！"),Object(n["a"])({url:"/getcommodityRelationdetails",method:"get"})}function z(t){return console.log("添加商品交易事务数据集。！！！"),Object(n["a"])({url:"/addcommodityTransaction",method:"post",data:t})}function T(){return console.log("计算出关联商品集！！！"),Object(n["a"])({url:"/addcommodityRelationdetails2",method:"get"})}function k(){return console.log("获得 时间粒度集合！！！"),Object(n["a"])({url:"/getcommodityTimeadvise",method:"get"})}function x(t){return console.log("根据商品名称 获得时间粒度！！！"),Object(n["a"])({url:t,method:"get"})}function P(){return console.log("计算时间粒度！！！"),Object(n["a"])({url:"/addcommodityTimeadvise",method:"get"})}function C(t){return console.log("根据商品名称 获得关联商品集合！！！"),Object(n["a"])({url:t,method:"get"})}function _(t){return console.log("发送getplatform请求"),Object(n["a"])({url:t,method:"get"})}function I(t){return console.log("发送getrecommendrlatform请求"),Object(n["a"])({url:t,method:"get"})}function N(t){return console.log("发送getTeamResult请求"),Object(n["a"])({url:t,method:"get"})}function R(t){return console.log("发送getTeamResultForRS请求"),Object(n["a"])({url:t,method:"get"})}function G(t){return console.log("追加商品粒度"),Object(n["a"])({url:"/taskDecomposition",method:"post",data:t})}function E(t){return console.log("发送getOneTeamResult请求"),Object(n["a"])({url:t,method:"get"})}function q(t){return console.log("发送getTeamResultByRName请求"),Object(n["a"])({url:t,method:"get"})}function M(){return console.log("发送getComparisonResults请求"),Object(n["a"])({url:"/getComparisonResults",method:"get"})}},"25d6":function(t,e,a){"use strict";var n=a("0174"),o=a.n(n);o.a},"337f":function(t,e,a){},"5e05":function(t,e,a){"use strict";a.d(e,"g",(function(){return o})),a.d(e,"a",(function(){return r})),a.d(e,"c",(function(){return i})),a.d(e,"b",(function(){return l})),a.d(e,"d",(function(){return c})),a.d(e,"f",(function(){return u})),a.d(e,"e",(function(){return s})),a.d(e,"i",(function(){return d})),a.d(e,"h",(function(){return g})),a.d(e,"j",(function(){return m}));var n=a("b775");function o(t,e,a){return Object(n["a"])({method:"GET",params:{taskid:t,currentPage:e,pageSize:a},url:"/getPassive"})}function r(t,e){return Object(n["a"])({method:"GET",params:{id:t,limit:e},url:"/louvainresult"})}function i(t,e){return Object(n["a"])({method:"GET",params:{id:t,limit:e},url:"/activetaskgraph"})}function l(t){return Object(n["a"])({method:"GET",params:{company:t},url:"/activegraph"})}function c(t,e){return Object(n["a"])({method:"GET",params:{category:t,platform:e},url:"/getAct/"})}function u(t,e,a){return Object(n["a"])({method:"GET",params:{taskid:t,currentPage:e,pageSize:a},url:"/getActiveGroup/"})}function s(t,e,a){return Object(n["a"])({method:"GET",params:{company:t,currentPage:e,pageSize:a},url:"/getActiveCompanyDetail/"})}function d(t,e,a){return Object(n["a"])({method:"GET",params:{taskid:t,currentPage:e,pageSize:a},url:"/getSpaceans"})}function g(t,e,a,o){return Object(n["a"])({method:"GET",params:{platform:t,category:e,currentPage:a,pageSize:o},url:"/getSpaceDetail"})}function m(t,e){return Object(n["a"])({method:"GET",url:"/uploadDetails/"+t+"/"+e})}},"94af":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("主被动模态详情")]),a("el-button",{staticStyle:{"margin-bottom":"0.5rem"},attrs:{size:"small"},on:{click:t.goBack}},[t._v("返回")]),t.isPassiveMode?a("div",[a("div",{staticClass:"title"},[t._v("被动监管名单")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData.slice((t.currentPage-1)*t.PageSize,t.currentPage*t.PageSize),"header-cell-style":t.getHeaderStylesheet,"row-style":{height:"40px"},"cell-style":{padding:"0px"}}},[a("el-table-column",{attrs:{prop:"id",label:"编号","min-width":"30"}}),a("el-table-column",{attrs:{prop:"buyerName",label:"买方姓名","min-width":"130"}}),a("el-table-column",{attrs:{prop:"category",label:"商品","min-width":"40"}}),a("el-table-column",{attrs:{prop:"amount",label:"数量","min-width":"30"}}),a("el-table-column",{attrs:{prop:"price",label:"价格","min-width":"30"}}),a("el-table-column",{attrs:{prop:"sellerName",label:"卖方姓名","min-width":"130"}}),a("el-table-column",{attrs:{prop:"belong",label:"归属","min-width":"100"}})],1),a("el-pagination",{staticStyle:{"margin-top":"0.5rem"},attrs:{"current-page":t.currentPage,"page-sizes":t.pageSizes,"page-size":t.PageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total1},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e(),t.isActiveMode?a("div",[a("tab-active-modal")],1):t._e()],1)},o=[],r=(a("c740"),a("d81d"),a("b0c0"),a("d3b7"),a("25f0"),a("5e05")),i=a("313e"),l=a.n(i),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"100%"}},[a("el-container",{staticStyle:{height:"700px",border:"0.5rem solid #ffffff"}},[a("el-aside",{staticStyle:{border:"0.5rem solid #ffffff"},attrs:{width:"55%"}},[a("div",{staticClass:"title"},[t._v("主动监管名单")]),a("el-table",{attrs:{data:t.dataTableActive,"highlight-current-row":"","header-cell-style":t.getHeaderStylesheet,"row-style":{height:"40px"},"cell-style":{padding:"0px"}},on:{"row-click":t.onClickTableActive}},[a("el-table-column",{attrs:{prop:"company",label:"交易主体","min-width":"200"}}),a("el-table-column",{attrs:{prop:"category",label:"商品类型","min-width":"70"}}),a("el-table-column",{attrs:{prop:"abnormalValue",label:"异常值","min-width":"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[Number.isNaN(e.row.abnormalValue)?a("span",[t._v("无")]):t.isAbnormal(e.row.abnormalValue)?a("span",{staticStyle:{color:"red"}},[t._v(" "+t._s(e.row.abnormalValue.toFixed(3))+" ")]):a("span",{staticStyle:{color:"green"}},[t._v(" "+t._s(e.row.abnormalValue.toFixed(3))+" ")])]}}])}),a("el-table-column",{attrs:{label:"监管建议","min-width":"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[Number.isNaN(e.row.abnormalValue)?a("span"):t.isAbnormal(e.row.abnormalValue)?a("span",[t._v("建议监管")]):a("span",[t._v("正常")])]}}])}),a("el-table-column",{attrs:{prop:"creditScore",label:"信用评分","min-width":"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[Number.isNaN(e.row.creditScore)?a("span",[t._v("无")]):t.isAbnormal(e.row.creditScore)?a("span",{staticStyle:{color:"red"}},[t._v(" "+t._s("NaN"==e.row.creditScore?"暂无":e.row.creditScore.toFixed(3))+" ")]):a("span",{staticStyle:{color:"green"}},[t._v(" "+t._s("NaN"==e.row.creditScore?"暂无":e.row.creditScore.toFixed(3))+" ")])]}}])}),t._e()],1),a("el-pagination",{ref:"pagination",staticStyle:{"text-align":"center","margin-top":"0.5rem"},attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":t.pageSizes,"page-size":t.pageSizeActive,"current-page":t.currentPageActive,total:t.totalTableActive},on:{"size-change":t.onSizeChangeActive,"current-change":t.onPageChangeActive}})],1),a("el-container",{staticStyle:{border:"0.5rem solid #ffffff"}},[a("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"tableCompanyDetail"}},[a("div",{staticClass:"title"},[t._v("主体交易详情")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dataTableDetail,"header-cell-style":t.getHeaderStylesheet,"row-style":{height:"40px"},"cell-style":{padding:"0px"}}},[a("el-table-column",{attrs:{prop:"seller",label:"主要交易卖方","min-width":"60"}}),a("el-table-column",{attrs:{prop:"buyer",label:"主要交易买方","min-width":"60"}}),a("el-table-column",{attrs:{prop:"amount",label:"交易数","min-width":"20"}})],1),a("el-pagination",{ref:"pagination",staticStyle:{"text-align":"center","margin-top":"0.5rem"},attrs:{background:"",layout:"total, sizes, prev, pager, next","page-sizes":t.pageSizes,"page-size":8,"current-page":t.currentPageDetail,total:t.totalTableDetail},on:{"size-change":t.onSizeChangeDetail,"current-change":t.onPageChangeDetail}})],1)])],1)],1)},u=[],s=(a("5f87"),{name:"tabActiveModal",data:function(){return{pageSizes:[5,10,20,50],dataTableActive:[],threshold:0,totalTableActive:0,pageSizeActive:10,currentPageActive:1,companySelected:"",dataTableDetail:[],totalTableDetail:0,pageSizeDetail:10,currentPageDetail:1}},created:function(){var t=this.$router.currentRoute.params.id;this.queryActiveGroup(t,1,this.pageSizeActive)},mounted:function(){document.getElementById("tableCompanyDetail").style.display="none"},methods:{getHeaderStylesheet:function(){return{"background-color":"#f8f8f8",color:"#909399","font-weight":"bold","padding-top":"20px","padding-bottom":"20px"}},queryActiveGroup:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;Object(r["f"])(t,a,n).then((function(t){e.dataTableActive=t.data.data.reslist;var a=1;e.dataTableActive.map((function(t){e.$set(t,"id",a++)})),e.threshold=t.data.data.threshold,e.totalTableActive=t.data.data.total})).catch((function(t){console.log(t)}))},onSizeChangeActive:function(t){this.pageSizeActive=t,this.currentPageActive=1;var e=this.$router.currentRoute.params.id;this.queryActiveGroup(e,this.currentPageActive,this.pageSizeActive)},onPageChangeActive:function(t){this.currentPageActive=t;var e=this.$router.currentRoute.params.id;this.queryActiveGroup(e,t,this.pageSizeActive)},isAbnormal:function(t){return t>=this.threshold},goToDataQuery:function(t){this.$router.push({path:"/trade/dataFusion/dataquery",query:{data:t}})},onClickTableActive:function(t){document.getElementById("tableCompanyDetail").style.display="block",this.companySelected=t.company,this.queryCompanyDetail(t.company,1,6)},queryCompanyDetail:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6;Object(r["e"])(t,a,n).then((function(t){e.dataTableDetail=t.data.data.reslist,e.totalTableDetail=t.data.data.total})).catch((function(t){console.log(t)}))},onSizeChangeDetail:function(t){this.pageSizeDetail=t,this.currentPageDetail=1,this.queryCompanyDetail(this.companySelected,this.currentPageDetail,this.pageSizeDetail)},onPageChangeDetail:function(t){this.currentPageDetail=t,this.queryCompanyDetail(this.companySelected,this.currentPageDetail,this.pageSizeDetail)}}}),d=s,g=(a("25d6"),a("2877")),m=Object(g["a"])(d,c,u,!1,null,"8bb46602",null),h=m.exports,f=a("09ea"),p={name:"activetask",components:{tabActiveModal:h},data:function(){return{activeName:"table",total:0,form:{},id:"",taskInfo:[],total1:25,loading:!1,show:!1,Data:[],spanarray:[],currentPage:1,pageSizes:[5,10,20,50],PageSize:5,tableData:[],tableData3:[],total3:0,dataTableActive:[],threshold:"",passive:!1,isActiveMode:!0,isPassiveMode:!0,value_space_granularity:"",options:[{value:"省：",label:"省"},{value:"市：",label:"市"},{value:"平台：",label:"平台"}]}},created:function(){var t=this;this.passive=!(!this.$route.query||!this.$route.query.data),Object(f["I"])().then((function(e){t.taskInfo=e.data.data})).catch((function(t){console.log(t),console.log("出现错误")}));var e=this.$router.currentRoute.params.id;this.activeOrPassive()?this.activeName="table":(this.activeName="passive",this.passiveTradeActionList(e,1,5))},mounted:function(){},methods:{getHeaderStylesheet:function(){return{"background-color":"#f8f8f8",color:"#909399","font-weight":"bold","padding-top":"20px","padding-bottom":"20px"}},handleSizeChange:function(t){this.PageSize=t,this.currentPage=1},handleCurrentChange:function(t){this.currentPage=t},passiveTradeActionList:function(t,e,a){var n=this;Object(r["g"])(t,e,a).then((function(t){console.log(t),n.tableData=t.data.data;var e=t.data.data;n.total1=t.data.data.length;for(var a=0;a<e.length;a++)e[a].id=a+1;n.tableData=e,n.handleData()})).catch((function(t){console.log(t),console.log("出现错误")}))},handleData:function(){var t=0;this.Data=[],this.spanarray=[];for(var e=0;e<this.tableData.length;e++){this.spanarray.push({row:t,num:this.tableData[e].length});for(var a=0;a<this.tableData[e].length;a++)t++,this.tableData[e][a]["group"]=e+1,this.Data.push(this.tableData[e][a])}},activeTaskGraph:function(t,e){var a=this;Object(r["a"])(t,e).then((function(t){a.drawChart(t.data.data)})).catch((function(t){console.log(t)})),Object(r["c"])(t,e).then((function(t){a.drawChart2(t.data.data)})).catch((function(t){console.log(t)}))},pageChange1:function(t){var e=this.$router.currentRoute.params.id;this.currentPage=t,this.passiveTradeActionList(e,t,5)},onSubmit:function(t){var e=this.$router.currentRoute.params.id,a=this.value_space_granularity+this.form.limit;this.activeTaskGraph(e,a)},activeOrPassive:function(){return this.passive?(this.isPassiveMode=!0,this.isActiveMode=!1):(this.isPassiveMode=!1,this.isActiveMode=!0),!this.passive},objectSpanMethod:function(t){t.row;var e=t.column,a=t.rowIndex;t.columnIndex;if("编号"===e.label||"交易模式"===e.label){var n=function(t){return t["row"]===a},o=this.spanarray.findIndex(n);return-1!==o?{rowspan:this.spanarray[o]["num"],colspan:1}:{rowspan:0,colspan:0}}},lookForAllTasks:function(){console.log(this.id)},gotoDetail:function(t){document.getElementById("echart123").style.display="block",document.getElementById("table23").style.display="none",Object(r["b"])(t).then((function(t){var e=l.a.init(document.querySelector("#echart123")),a=t.data[0].map((function(t){return 0!==t.id?{id:t.id.toString(),name:t.name,company:t.company,category:1}:{id:t.id.toString(),name:t.name,company:t.company,category:0}})),n=t.data[1].map((function(t){return{source:t.source.toString(),target:t.target.toString(),lineStyle:{width:1.5*parseFloat(t.weight/500)+.5}}})),o=[{name:"异常节点"},{name:"相关节点"}],r={color:["#ef4f4f","#5470c6"],legend:{tooltip:{show:!0}},tooltip:{show:!0,formatter:function(t){return t.data.source?"":t.data.company}},series:[{type:"graph",layout:"force",label:{show:!0},roam:!0,data:a,links:n,zoom:6,categories:o,focusNodeAdjacency:!0,lineStyle:{opacity:.9}}]};e.setOption(r)}))},goBack:function(){this.$router.go(-1)},drawChart2:function(t){var e=l.a.init(document.querySelector("#echart12")),a={tooltip:{},color:["red","green","pink","blue"],legend:{show:!0,orient:"vertical",right:"1px",data:[{name:"原生用户",icon:"circle"},{name:"原生交易",icon:"circle"},{name:"非原生用户",icon:"circle"},{name:"非原生交易",icon:"circle"}]},series:[{type:"graph",layout:"force",legendHoverLink:!0,hoverAnimation:!0,coordinateSystem:null,xAxisIndex:0,yAxisIndex:0,force:{repulsion:70,edgeLength:[70,150],layoutAnimation:!0},roam:!0,nodeScaleRatio:.9,draggable:!0,focusNodeAdjacency:!0,edgeSymbol:["none","arrow"],symbolSize:20,edgeSymbolSize:10,itemStyle:{normal:{label:{show:!0}},emphasis:{}},lineStyle:{normal:{color:"#31354B",width:"1",type:"solid",curveness:0,opacity:1},emphasis:{}},label:{normal:{show:!0,position:"bottom",textStyle:{color:"#2D2F3B",fontStyle:"normal",fontWeight:"bolder",fontFamily:"sans-serif",fontSize:12}},emphasis:{}},edgeLabel:{normal:{show:!1},emphasis:{}},data:t[0],links:t[1],categories:[{name:"原生用户",icon:"circle"},{name:"原生交易",icon:"circle"},{name:"非原生用户",symbol:"circle"},{name:"非原生交易",symbol:"circle"}]}]};e.setOption(a)},drawChart:function(t){var e=t[2],a=t[1],n=l.a.init(document.querySelector("#echart1")),o={backgroundColor:l.a.graphic.RadialGradient(.3,.3,.8,[{offset:0,color:"#f7f8fa"},{offset:1,color:"#cdd0d5"}]),title:{top:"top",left:"center"},tooltip:{},legend:[{formatter:function(t){return l.a.format.truncateText(t,40,"14px Microsoft Yahei","…")},tooltip:{show:!0},orient:"vertical",right:"1px",selectedMode:"false",top:40}],toolbox:{show:!1,feature:{dataView:{show:!0,readOnly:!0},restore:{show:!0},saveAsImage:{show:!0}}},animationDuration:3e3,animationEasingUpdate:"quinticInOut",series:[{type:"graph",layout:"force",zoom:2.5,force:{repulsion:50},data:a,links:e,categories:[{name:"1"},{name:"2"},{name:"3"},{name:"4"},{name:"0"}],focusNodeAdjacency:!0,roam:!0,label:{normal:{show:!0,position:"top"}},lineStyle:{normal:{color:"source",curveness:0,type:"solid"}}}]};n.setOption(o)}}},b=p,y=(a("e05d"),Object(g["a"])(b,n,o,!1,null,"a5c23a10",null));e["default"]=y.exports},c740:function(t,e,a){"use strict";var n=a("23e7"),o=a("b727").findIndex,r=a("44d2"),i=a("ae40"),l="findIndex",c=!0,u=i(l);l in[]&&Array(1)[l]((function(){c=!1})),n({target:"Array",proto:!0,forced:c||!u},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),r(l)},e05d:function(t,e,a){"use strict";var n=a("337f"),o=a.n(n);o.a}}]);
//# sourceMappingURL=chunk-3d1dbc33.6984da67.js.map