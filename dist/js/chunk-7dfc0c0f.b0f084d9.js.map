{"version":3,"sources":["webpack:///./src/components/part1/Multimodal-multigranularity/taskInput.vue?cb89","webpack:///./src/components/part1/Multimodal-multigranularity/taskInput.vue?8e47","webpack:///src/components/part1/Multimodal-multigranularity/taskInput.vue","webpack:///./src/components/part1/Multimodal-multigranularity/taskInput.vue?4a54","webpack:///./src/components/part1/Multimodal-multigranularity/taskInput.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","on","createTaskSource","_v","staticClass","_s","radio","handleChange","model","value","callback","$$v","commodityName","expression","flatName","_l","flat","index","key","taskType","createTask","abortForm","formTaskVisible","$event","slot","InputTaskSourceTrue","formDialogVisible","formDialogTrue","dialogActiveVisible","valueMean","valueRisk","_e","formActiveList","prop","order","scopedSlots","_u","fn","scope","parseFloat","row","p","toFixed","staticRenderFns","data","checkAllCommodity","checkedCommodity","isIndeterminateCommodity","commodities","commodityOptions","isCommodity","flatList","isIndeterminate","taskinputt","taskin","input","priority","humanUse","dateStart","dateStart2","dateEnd","dateEnd2","workingTime","deadLine","timeAdvise","content","tradeUser","showStart","showEnd","props","created","computed","address","console","log","watch","name","changeflag","Number","POSITIVE_INFINITY","butt","text","methods","getFlatList","handleCloseCommodityTag","commodityTags","splice","indexOf","commodityTag","setFlatList","temp","result","i","push","response","error","setFlats","flat_name","platform","flat_num","association","flatData","postData","$message","message","type","handleCloseFlatTag","flatTags","flatTag","handleCheckAllChange","checkedCities","val","cities","handleCheckedCitiesChange","checkAll","checkedCount","length","setTimeRecommend","myDate","newDate","setDate","getDate","day","getTimeRecommend","com_name","arr","timeadvise","having","id","postAddress","$confirm","confirmButtonText","cancelButtonText","contt","$parent","dialogTableVisible","startData","Date","getTime","endData","timestamp","parseInt","d","date","inputData","taskName","humannn","cleanForm","getActiveList","component"],"mappings":"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","file":"js/chunk-7dfc0c0f.b0f084d9.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./taskInput.vue?vue&type=style&index=0&id=76372c12&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./taskInput.vue?vue&type=style&index=0&id=76372c12&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('el-button',{staticStyle:{\"margin-bottom\":\"20px\",\"margin-top\":\"20px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.createTaskSource}},[_vm._v(\"修改任务来源\")])],1),_c('div',{staticClass:\"task-input-box\"},[_c('el-form',{attrs:{\"label-width\":\"130px\",\"id\":\"selectForm\"}},[_c('el-form-item',{staticStyle:{\"margin-left\":\"300px\"},attrs:{\"label\":\"任务来源\"}},[_c('el-col',{attrs:{\"span\":1}},[_c('el-tag',{staticStyle:{\"font-size\":\"18px\"}},[_vm._v(\" \"+_vm._s(_vm.radio)+\" \")])],1)],1),_c('el-form-item',{staticStyle:{\"margin-left\":\"300px\"},attrs:{\"label\":\"商品种类\"}},[_c('el-col',{attrs:{\"span\":13}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.commodityName),callback:function ($$v) {_vm.commodityName=$$v},expression:\"commodityName\"}})],1)],1),_c('el-form-item',{staticStyle:{\"margin-left\":\"300px\"},attrs:{\"label\":\"交易平台\"}},[_c('el-col',{attrs:{\"span\":13}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择平台名称\"},model:{value:(_vm.flatName),callback:function ($$v) {_vm.flatName=$$v},expression:\"flatName\"}},_vm._l((_vm.flatList),function(flat,index){return _c('el-option',{key:index,attrs:{\"label\":flat.flatName,\"value\":flat.flatName},on:{\"change\":_vm.handleChange}})}),1)],1)],1),_c('el-form-item',{staticStyle:{\"margin-left\":\"300px\"},attrs:{\"label\":\"交易风险类型\"}},[_c('el-col',{attrs:{\"span\":13}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择交易风险类型\"},model:{value:(_vm.taskType),callback:function ($$v) {_vm.taskType=$$v},expression:\"taskType\"}},[_c('el-option',{attrs:{\"label\":\"交易主体异常\",\"value\":\"交易主体异常\"}}),_c('el-option',{attrs:{\"label\":\"仓单异常\",\"value\":\"仓单异常\"}}),_c('el-option',{attrs:{\"label\":\"融资异常\",\"value\":\"融资异常\"}}),_c('el-option',{attrs:{\"label\":\"质押权异常\",\"value\":\"质押权异常\"}})],1)],1)],1),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.createTask}},[_vm._v(\"立即创建\")]),_c('el-button',{attrs:{\"type\":\"info\"},on:{\"click\":_vm.abortForm}},[_vm._v(\"取消创建\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"请选择任务来源\",\"visible\":_vm.formTaskVisible,\"width\":\"60%\"},on:{\"update:visible\":function($event){_vm.formTaskVisible=$event}}},[_c('el-radio-group',{model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}},[_c('el-radio',{attrs:{\"label\":\"主体智能查验\"}},[_vm._v(\"主体智能查验\")]),_c('el-radio',{attrs:{\"label\":\"交易过程监测\"}},[_vm._v(\"交易过程监测\")]),_c('el-radio',{attrs:{\"label\":\"交易风险智能分析与预警\"}},[_vm._v(\"交易风险智能分析与预警\")])],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.InputTaskSourceTrue}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"确认创建任务\",\"visible\":_vm.formDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.formDialogVisible=$event}}},[_c('el-form',{attrs:{\"label-position\":\"left\",\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"任务来源\"}},[_c('el-col',[_c('el-tag',{staticStyle:{\"font-size\":\"18px\"}},[_vm._v(\" \"+_vm._s(_vm.radio)+\" \")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"商品种类\"}},[_c('el-col',[_c('el-tag',{staticStyle:{\"font-size\":\"18px\"}},[_vm._v(\" \"+_vm._s(_vm.commodityName)+\" \")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"交易平台\"}},[_c('el-col',[_c('el-tag',{staticStyle:{\"font-size\":\"18px\"}},[_vm._v(\" \"+_vm._s(_vm.flatName)+\" \")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"交易风险类型\"}},[_c('el-col',[_c('el-tag',{staticStyle:{\"font-size\":\"18px\"}},[_vm._v(\" \"+_vm._s(_vm.taskType)+\" \")])],1)],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.formDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.formDialogTrue}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"visible\":_vm.dialogActiveVisible,\"title\":\"主动监管名单\",\"width\":\"40%\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.dialogActiveVisible=$event}}},[_c('p',{staticStyle:{\"font-size\":\"1rem\"}},[_vm._v(\" 平台风险值： \"),(_vm.valueMean === '高')?_c('span',{staticStyle:{\"margin-right\":\"1rem\",\"color\":\"red\"}},[_vm._v(_vm._s(_vm.valueRisk))]):(_vm.valueMean === '中')?_c('span',{staticStyle:{\"margin-right\":\"1rem\",\"color\":\"orange\"}},[_vm._v(_vm._s(_vm.valueRisk))]):(_vm.valueMean === '低')?_c('span',{staticStyle:{\"margin-right\":\"1rem\",\"color\":\"green\"}},[_vm._v(_vm._s(_vm.valueRisk))]):_vm._e(),_vm._v(\" 风险程度： \"),(_vm.valueMean === '高')?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(_vm.valueMean))]):(_vm.valueMean === '中')?_c('span',{staticStyle:{\"color\":\"orange\"}},[_vm._v(_vm._s(_vm.valueMean))]):(_vm.valueMean === '低')?_c('span',{staticStyle:{\"color\":\"green\"}},[_vm._v(_vm._s(_vm.valueMean))]):_vm._e()]),_c('el-table',{attrs:{\"data\":_vm.formActiveList,\"default-sort\":{prop: 'p', order: 'descending'},\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"主体\"}}),_c('el-table-column',{attrs:{\"prop\":\"p\",\"label\":\"异常值\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(parseFloat(scope.row.p).toFixed(3)))])]}}])})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div >\r\n    <div>\r\n      <el-button type=\"primary\" @click=\"createTaskSource\" style=\"margin-bottom:20px;margin-top:20px\">修改任务来源</el-button>\r\n    </div>\r\n    <div class=\"task-input-box\"  >\r\n      <!--输入任务表单-->\r\n      <el-form label-width=\"130px\" id=\"selectForm\" >\r\n\r\n        <el-form-item label=\"任务来源\" style=\"margin-left:300px\">\r\n            <el-col :span=\"1\">\r\n          <el-tag style=\"font-size:18px\">\r\n           {{radio}}\r\n          </el-tag>\r\n            </el-col>\r\n          \r\n        </el-form-item>\r\n\r\n        <!--选择监管商品类别-->\r\n        <el-form-item label=\"商品种类\" style=\"margin-left:300px\">\r\n          <el-col :span=\"13\">\r\n            <el-input v-model=\"commodityName\" placeholder=\"请输入内容\" @change=\"handleChange\"></el-input>\r\n          </el-col>\r\n        </el-form-item>\r\n\r\n        <!--监管任务空间粒度，根据选定的商品种类获得平台列表-->\r\n        <el-form-item label=\"交易平台\" style=\"margin-left:300px\">\r\n          <el-col :span=\"13\">\r\n            <el-select v-model=\"flatName\" placeholder=\"请选择平台名称\" style=\"width: 100%\">\r\n              <!--动态读取该品类对应的平台-->\r\n              <el-option\r\n                  v-for=\"(flat, index) in flatList\"\r\n                  :key=\"index\"\r\n                  :label=\"flat.flatName\"\r\n                  :value=\"flat.flatName\"\r\n                  @change=\"handleChange\"\r\n              >\r\n              </el-option>\r\n            </el-select>\r\n          </el-col>\r\n        </el-form-item>\r\n\r\n        <!--选定的监管任务类型-->\r\n        <el-form-item label=\"交易风险类型\" style=\"margin-left:300px\">\r\n          <el-col :span=\"13\">\r\n            <el-select v-model=\"taskType\" placeholder=\"请选择交易风险类型\" style=\"width: 100%\">\r\n              <el-option label=\"交易主体异常\" value=\"交易主体异常\"></el-option>\r\n              <el-option label=\"仓单异常\" value=\"仓单异常\"></el-option>\r\n              <el-option label=\"融资异常\" value=\"融资异常\"></el-option>\r\n              <el-option label=\"质押权异常\" value=\"质押权异常\"></el-option>\r\n            </el-select>\r\n          </el-col>\r\n        </el-form-item>\r\n\r\n        <!--人机模块部分需要属性-->\r\n\r\n\r\n\r\n\r\n        <el-button type=\"success\" @click=\"createTask\" >立即创建</el-button>\r\n        <el-button type=\"info\" @click=\"abortForm\" >取消创建</el-button>\r\n        <!-- <el-button type=\"info\" @click=\"abortForm\" style=\"margin-right:20em\">取消创建</el-button> -->\r\n      </el-form>\r\n\r\n    </div>\r\n\r\n    <el-dialog\r\n        title=\"请选择任务来源\"\r\n        :visible.sync=\"formTaskVisible\"\r\n        width=\"60%\">\r\n          <el-radio-group v-model=\"radio\">\r\n              <el-radio label=\"主体智能查验\" >主体智能查验</el-radio>\r\n              <el-radio label=\"交易过程监测\">交易过程监测</el-radio>\r\n              <el-radio label=\"交易风险智能分析与预警\">交易风险智能分析与预警</el-radio>\r\n          </el-radio-group>\r\n              \r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n    <!-- <el-button @click=\"formTaskVisible = false\">取 消</el-button> -->\r\n    <el-button type=\"primary\" @click=\"InputTaskSourceTrue\">确 定</el-button>\r\n  </span>\r\n    </el-dialog>\r\n\r\n    <el-dialog\r\n        title=\"确认创建任务\"\r\n        :visible.sync=\"formDialogVisible\"\r\n        width=\"50%\">\r\n      <!-- 获取到的商品粒度推荐表，可通过首列的复选框决定要加入监管的相关商品品类-->\r\n      <el-form label-position=\"left\" label-width=\"120px\" >\r\n        <el-form-item label=\"任务来源\">\r\n          <el-col >\r\n            <el-tag style=\"font-size:18px\">\r\n              {{radio}}\r\n            </el-tag>\r\n          </el-col>\r\n        </el-form-item>\r\n        <el-form-item label=\"商品种类\">\r\n          <el-col >\r\n            <el-tag style=\"font-size:18px\">\r\n             {{commodityName}}\r\n            </el-tag>\r\n          </el-col>\r\n        </el-form-item>\r\n        <el-form-item label=\"交易平台\">\r\n          <el-col >\r\n           <el-tag style=\"font-size:18px\">\r\n              {{flatName}}\r\n           </el-tag>\r\n          </el-col>\r\n        </el-form-item>\r\n        <el-form-item label=\"交易风险类型\">\r\n          <el-col >\r\n            <el-tag style=\"font-size:18px\">\r\n              {{taskType}}\r\n            </el-tag>\r\n          </el-col>\r\n          \r\n        </el-form-item>\r\n        <!-- <el-form-item label=\"监管任务优先级\">\r\n          级别{{ priority }}\r\n        </el-form-item>\r\n        <el-form-item label=\"监管方式\">\r\n          {{ humanUse ? \"人工分配\" : \"机器分配\" }}，{{ tradeUser ? \"主动监管\" : \"被动监管\" }}\r\n        </el-form-item>\r\n        <el-form-item label=\"监管周期开始\">\r\n          {{ dateStart }}\r\n        </el-form-item>\r\n        <el-form-item label=\"监管周期结束\">\r\n          {{ dateEnd }}\r\n        </el-form-item>\r\n        <el-form-item label=\"工作时间（小时）\">\r\n          {{ workingTime }}\r\n        </el-form-item>\r\n        <el-form-item label=\"结束时间\">\r\n          {{ deadLine }} -->\r\n        <!-- </el-form-item> -->\r\n      </el-form>\r\n\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n    <el-button @click=\"formDialogVisible = false\">取 消</el-button>\r\n    <el-button type=\"primary\" @click=\"formDialogTrue\">确 定</el-button>\r\n  </span>\r\n    </el-dialog>\r\n\r\n    <el-dialog :visible.sync=\"dialogActiveVisible\" title=\"主动监管名单\" width=\"40%\" center>\r\n      <p style=\"font-size: 1rem\">\r\n        平台风险值：\r\n        <span v-if=\"valueMean === '高'\" style=\"margin-right: 1rem; color: red\">{{ valueRisk }}</span>\r\n        <span v-else-if=\"valueMean === '中'\" style=\"margin-right: 1rem; color: orange\">{{ valueRisk }}</span>\r\n        <span v-else-if=\"valueMean === '低'\" style=\"margin-right: 1rem; color: green\">{{ valueRisk }}</span>\r\n        风险程度：\r\n        <span v-if=\"valueMean === '高'\" style=\"color: red\">{{ valueMean }}</span>\r\n        <span v-else-if=\"valueMean === '中'\" style=\"color: orange\">{{ valueMean }}</span>\r\n        <span v-else-if=\"valueMean === '低'\" style=\"color: green\">{{ valueMean }}</span>\r\n      </p>\r\n      <el-table :data=\"formActiveList\" :default-sort=\"{prop: 'p', order: 'descending'}\" stripe>\r\n        <el-table-column\r\n            prop=\"name\"\r\n            label=\"主体\">\r\n        </el-table-column>\r\n        <el-table-column\r\n            prop=\"p\"\r\n            label=\"异常值\" sortable>\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ parseFloat(scope.row.p).toFixed(3) }}</span>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-dialog>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  /*\r\n     <el-form-item label=\"任务周期\">\r\n          <el-col :span=\"5\">\r\n            <el-button type=\"primary\" @click=\"getTimeRecommend\">推荐时间粒度</el-button>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-date-picker type=\"date\" placeholder=\"选择开始日期\" v-model=\"dateStart\" style=\"width: 100%;\"></el-date-picker>\r\n          </el-col>\r\n          <el-col class=\"line\" :span=\"1\">-</el-col>\r\n          <el-col :span=\"7\">\r\n            <el-date-picker type=\"date\" placeholder=\"选择结束日期\" v-model=\"dateEnd\" style=\"width: 100%;\"></el-date-picker>\r\n          </el-col>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"监管任务名称\">\r\n          <el-input v-model=\"input\" placeholder=\"请输入内容\"></el-input>\r\n        </el-form-item>\r\n\r\n\r\n        <el-form-item label=\"是否主动监管\">\r\n          <el-col :span=\"4\">\r\n            <el-switch v-model=\"tradeUser\"\r\n                       active-text=\"主动监管\"\r\n            ></el-switch>\r\n          </el-col>\r\n          <el-col :span=\"4\">\r\n            <el-button type=\"primary\" @click=\"getActiveList\">获取主动监管名单</el-button>\r\n          </el-col>\r\n        </el-form-item>\r\n        <!--监管周期--><el-input v-model=\"deadLine\" type=\"number\" placeholder=\"如非末尾任务请勿输入\">\r\n          <!--选定的监管任务优先级-->\r\n        <el-form-item label=\"监管任务优先级\">\r\n          <el-col :span=\"13\">\r\n            <el-select v-model=\"priority\" placeholder=\"请选择任务优先级\" style=\"width: 100%\">\r\n              <el-option label=\"级别一\" value=\"1\"></el-option>\r\n              <el-option label=\"级别二\" value=\"2\"></el-option>\r\n              <el-option label=\"级别三\" value=\"3\"></el-option>\r\n              <el-option label=\"级别四\" value=\"4\"></el-option>\r\n            </el-select>\r\n          </el-col>\r\n        </el-form-item>\r\n          <el-form-item label=\"是否人工分配\">\r\n          <el-col :span=\"4\">\r\n            <el-switch v-model=\"humanUse\"\r\n                       active-text=\"人工分配\"\r\n            ></el-switch>\r\n          </el-col>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"工作时间（小时）\">\r\n          <el-input v-model=\"workingTime\" placeholder=\"请输入workingTime\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"结束时间\">\r\n          <el-date-picker type=\"date\" placeholder=\"选择结束日期\" v-model=\"deadLine\" style=\"width: 100%;\"></el-date-picker>\r\n\r\n        </el-form-item>\r\n\r\n  </el-input>*/\r\nimport {\r\n  taskInput,\r\n  bourseget,\r\n  getcommodityRelationdetails2,\r\n  getcommodityTimeadvise2,\r\n  getplatform,\r\n  getrecommendrlatform,\r\n  updateCommodity\r\n} from \"@/api/part1/Multimodal-multigranularity\";\r\nimport {getAct, getRiskVM} from \"@/api/part1/acpassTask\";\r\nimport { radialLayout } from '@antv/g6/lib/util/graphic';\r\nimport {getRole} from \"@/utils/auth\";\r\nconst cityOptions = ['南方稀贵金属交易所', '上海黄金交易所', '中国金融期货商品交易所', '江苏省大圆银泰贵金属', '南京贵重金属交易所'];\r\nconst commodityOptions = ['a', 'b', 'c']\r\nexport default {\r\n  data() {\r\n    return {\r\n      checkAllCommodity: false,\r\n      checkedCommodity: ['a'],\r\n      isIndeterminateCommodity: true,\r\n      commodities: commodityOptions,\r\n\r\n      // 商品粒度相关\r\n      isCommodity: false,\r\n      commodityName: '',\r\n      // 空间粒度相关数据\r\n      flatList: [],\r\n      flatName: '',\r\n\r\n      // 监管任务类型选择\r\n      taskType: '',\r\n      isIndeterminate: false,\r\n      taskinputt: this.taskin,\r\n      input: '',\r\n      priority: '',\r\n      humanUse: false,\r\n      dateStart: '',\r\n      dateStart2: '',\r\n      dateEnd: '',\r\n      dateEnd2: '',\r\n      workingTime: '',\r\n      deadLine: '',\r\n      timeAdvise: '',\r\n      content: this.flatName,\r\n      tradeUser: false,\r\n\r\n      // 提交新任务\r\n      formDialogVisible: false,\r\n      //提交任务来源\r\n      formTaskVisible: true,\r\n      radio: \"主体智能查验\",\r\n\r\n\r\n      // 表单显示时间\r\n      showStart: \"\",\r\n      showEnd: \"\",\r\n\r\n      // 查询主动监管名单\r\n      dialogActiveVisible: false,\r\n      valueRisk: '',\r\n      valueMean: '',\r\n      formActiveList: [],\r\n    }\r\n\r\n  },\r\n  props: ['taskin'],\r\n  created() {\r\n\r\n    if(getRole()=='OMS' || getRole()=='admin'){\r\n        \r\n    bourseget().then((res) => {\r\n      console.log(\"这是OMS的任务输入\")\r\n          let dataConvert = res.data.data;\r\n          console.log(dataConvert)\r\n          let temp = []\r\n          for (let i = 0; i < dataConvert.length; i++)\r\n            temp.push(dataConvert[i].bourse)\r\n          this.cities = temp\r\n          console.log(temp)\r\n        }\r\n    ).catch(() => {\r\n      console.log(\"taskQuery fail\")\r\n    });\r\n    if (this.taskin) {\r\n      if (Object.prototype.hasOwnProperty.call(this.taskin, 'changeflag'))\r\n        console.log(this.taskin.changeflag)\r\n      console.log(this.taskin.name)\r\n      this.input = this.taskin.name\r\n      this.priority = this.taskin.priority\r\n      this.humanUse = this.taskin.humanUse\r\n      //  if(this.taskin.content)\r\n      // this.content=this.taskin.content+\"\\r\\n\"+\"aaa\"\r\n      this.content = this.taskin.content\r\n      //npm   console.log(this.content)\r\n      /*  if(this.taskin.changeflag==Number.POSITIVE_INFINITY)\r\n  this.cleanForm();*/\r\n    }\r\n    \r\n    }else{\r\n    //不是oms端的 \r\n     console.log(\"去rs的任务输入\")\r\n       this.$router.push(\"/trade/Multimodal-multigranularity/stepBar/taskInputForRS\")\r\n    }\r\n  \r\n\r\n\r\n  },\r\n  computed: {\r\n    address() {\r\n      console.log(this.taskin)\r\n      return \"\"\r\n    }\r\n  },\r\n  watch: {\r\n    'taskin.changeflag'() {\r\n      console.log(\"flag变了\")\r\n      console.log(this.taskin)\r\n      this.input = this.taskin.name\r\n      this.priority = (this.taskin.priority) ? this.taskin.priority : 1;\r\n      this.commodityName = this.taskin.commodityName\r\n      this.workingTime = this.taskin.workingTime\r\n      this.deadLine = this.taskin.deadLine\r\n      this.humanUse = this.taskin.humanUse\r\n\r\n      this.content = this.taskin.content\r\n      if (!this.content)\r\n        this.content = '暂时未分配'\r\n      if (this.taskin.humanUse == '是')\r\n        this.humanUse = 1\r\n      if (this.taskin.humanUse == '否')\r\n        this.humanUse = 0\r\n      if (this.taskin.changeflag == Number.POSITIVE_INFINITY)\r\n        this.cleanForm()\r\n      let butt = document.getElementById(\"neirong\")\r\n      console.log(butt.text)\r\n    },\r\n   \r\n  },\r\n  methods: {\r\n    // dealwithradio(radio){\r\n    //   console.log(this.radio)\r\n    //   if(this.radio == 1) this.radio = 'fdf'\r\n    // },\r\n    // @handleChange---获取当前种类对应平台（输入框更改，绑定@change）\r\n    handleChange(value) {\r\n      this.getFlatList();\r\n    },\r\n\r\n    // @handleCloseCommodityTag---关闭商品粒度TAG\r\n    handleCloseCommodityTag(commodityTag) {\r\n      this.commodityTags.splice(this.commodityTags.indexOf(commodityTag), 1);\r\n    },\r\n\r\n    /*\r\n    空间粒度部分\r\n    */\r\n    // @setFlatList---将获得的可选平台放入选项中；\r\n    setFlatList(result) {\r\n      for (let i = 0; i < result.length; i++) {\r\n        let temp = {};\r\n        temp.flatName = result[i];\r\n        this.flatList.push(temp);\r\n      }\r\n    },\r\n    // @getFlatList---将选定商品品类传至后端，后端给出可交易该商品的平台，供用户选择\r\n    getFlatList() {\r\n      let URL = \"/getplatform?commodity=\" + this.commodityName;\r\n      let result;\r\n      getplatform(URL).then((response) => {\r\n        result = response.data.data;\r\n        this.setFlatList(result);\r\n        console.log(this.flatList);\r\n      }).catch(function (error) {\r\n        console.log(error);\r\n      });\r\n    },\r\n    // @setFlats---将推荐的空间填入表格中\r\n    setFlats(result) {\r\n      for (let i = 0; i < result.length; i++) {\r\n        let temp = {};\r\n        temp.flat_name = result[i].platform;\r\n        temp.flat_num = result[i].association;\r\n        this.flatData.push(temp);\r\n      }\r\n    },\r\n\r\n    // @formDialogTrue---新建任务\r\n    formDialogTrue() {\r\n      this.postData();\r\n      this.formDialogVisible = false;\r\n      this.$message({\r\n        message: '恭喜你，任务提交成功',\r\n        type: 'success'\r\n      });\r\n    },\r\n    // @InputTaskSourceTrue---输入任务来源\r\n    InputTaskSourceTrue() {\r\n      //this.postData();\r\n      this.formTaskVisible = false;\r\n      this.$message({\r\n        message: '恭喜你，任务来源选择成功',\r\n        type: 'success'\r\n      });\r\n    },\r\n\r\n    // @handleCloseFlatTag---关闭空间粒度TAG\r\n    handleCloseFlatTag(flatTag) {\r\n      this.flatTags.splice(this.flatTags.indexOf(flatTag), 1);\r\n    },\r\n    handleCheckAllChange(val) {\r\n      this.checkedCities = val ? this.cities : [];\r\n      this.isIndeterminate = false;\r\n    },\r\n    handleCheckedCitiesChange(value) {\r\n      console.log(this.checkedCities)\r\n      let checkedCount = value.length;\r\n      this.checkAll = checkedCount === this.cities.length;\r\n      this.isIndeterminate = checkedCount > 0 && checkedCount < this.cities.length;\r\n    },\r\n    // 设置时间区间\r\n    setTimeRecommend(result) {\r\n      let day = parseInt(result);\r\n      let myDate = new Date();\r\n      let newDate = new Date();\r\n      this.dateEnd = myDate;\r\n      newDate.setDate(newDate.getDate() - day);\r\n      this.dateStart = newDate\r\n    },\r\n    // 获取推荐的时间粒度\r\n    getTimeRecommend() {\r\n      let com_name = this.commodityName\r\n      console.log(\"时间粒度 获得商品：\", com_name)\r\n      let URL = \"/getcommodityTimeadvise2/\" + com_name;\r\n      let result;\r\n      getcommodityTimeadvise2(URL).then((response) => {\r\n        let arr = [];\r\n        arr = response.data;\r\n        result = arr[0].timeadvise;\r\n        console.log(\"result----111:\", result);\r\n        // 弹窗提醒\r\n        this.timeAdvise = result;\r\n        let message = com_name + \"推荐时间粒度为：\" + result + \"天\"\r\n        this.$message({\r\n          message: message,\r\n          type: 'success'\r\n        });\r\n        // 自动填充\r\n        this.setTimeRecommend(result);\r\n      })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          });\r\n    },\r\n\r\n    having() {\r\n      console.log(this.taskin)\r\n      if (this.taskin.id == \"\")\r\n        return false\r\n      return true\r\n\r\n    },\r\n    // 提交创建的新任务\r\n    createTask() {\r\n      this.formDialogVisible = true;\r\n    },\r\n        // 提交创建的新任务\r\n    createTaskSource() {\r\n      this.formTaskVisible = true;\r\n    },\r\n    postAddress() {\r\n      this.$confirm('是否确认创建该监管任务', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        let contt = ''\r\n        for (var i = 0; i < this.checkedCities.length; i++) {\r\n          if (i == 0)\r\n            contt += this.checkedCities[i];\r\n          if (i > 0)\r\n            contt += ',' + this.checkedCities[i];\r\n        }\r\n        console.log(contt)\r\n        console.log(\"111\")\r\n        this.content = contt\r\n        this.postData();\r\n        //this.$parent.$parent.getData()\r\n        this.$parent.$parent.reloadPage()\r\n        /* this.$message({\r\n           type: 'success',\r\n           message: '创建成功!'\r\n         });*/\r\n      }).catch(() => {\r\n        console.log(this.checkedCities.length)\r\n        let contt = ''\r\n        for (var i = 0; i < this.checkedCities.length; i++) {\r\n          if (i == 0)\r\n            contt += this.checkedCities[i];\r\n          if (i > 0)\r\n            contt += ',' + this.checkedCities[i];\r\n        }\r\n        console.log(contt)\r\n        /* this.$message({\r\n             type: 'info',\r\n             message: '已取消'\r\n           });       */\r\n      });\r\n      this.$parent.$parent.dialogTableVisible = false\r\n\r\n    },\r\n    postData() {\r\n      console.log(\"发送请求前\")\r\n      var startData = new Date(this.dateStart2).getTime();\r\n      var endData = new Date(this.dateEnd2).getTime();\r\n      var timestamp = parseInt(new Date().getTime()/1000);\r\n      var d = new Date(timestamp * 1000);    //根据时间戳生成的时间对象\r\n      var date = (d.getFullYear()) + \"-\" + \r\n           (d.getMonth() + 1) + \"-\" +\r\n           (d.getDate()) + \" \" + \r\n           (d.getHours()) + \":\" + \r\n           (d.getMinutes()) + \":\" + \r\n           (d.getSeconds());\r\n      let taskName = this.flatName+'-'+this.commodityName+'-'+this.taskType+'('+date+')';\r\n      console.log(\"elementui 时间形式\" + startData + \"时间2：\" + endData)\r\n      console.log(\"humanuse:\" + this.humanUse)\r\n      console.log(\"taskName:\"+taskName)\r\n      console.log(new Date().getTime())\r\n      //this. content=''\r\n      //let cit=this.checkedCities\r\n//let conttt=''\r\n      // console.log(cit.length())\r\n      //  for(var i=0;i<this.checkedCities.size();i++)\r\n      //  {\r\n      //    console.log(this.checkedCities[0])\r\n      //}\r\n      //  if(i==0)\r\n      //  this.    content+=this.checkedCities[i];\r\n      //  if(i>0)\r\n      //      this.    content+=','+this.checkedCities[i];\r\n      let humannn = (this.humanUse == true ? 1 : 0);\r\n      \r\n      var inputData = {\r\n        \"name\": taskName,\r\n        \"priority\": this.priority,\r\n        \"startTime\": 1587807522386,\r\n        \"endTime\": 1588404415698,\r\n        \"humanUse\": humannn,\r\n        \"workingTime\": this.workingTime*3600000,\r\n        \"deadLine\": new Date(this.deadLine).getTime(),\r\n        \"timeadvise\": this.timeAdvise,\r\n        \"tradeuser\": this.tradeUser,\r\n        \"content\": this.flatName,\r\n        \"commodityName\": this.commodityName\r\n      };\r\n      console.log(inputData);\r\n      taskInput(inputData).then((response) =>{\r\n        this.$router.push(\"/trade/Multimodal-multigranularity/stepBar/taskQueryTableView\").then(\r\n\r\n                ()=> {\r\n                  console.log(\"aaa\")\r\n                  this.$parent.$children[0].active=1\r\n                  this.$store.commit('setStepbarPosition', 1);\r\n                  console.log(\"ccc\")\r\n                }\r\n\r\n        )\r\n\r\n\r\n        //    console.log(this.$parent)\r\n\r\n      })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          });\r\n    },\r\n goto(routerr)\r\n    {return new Promise(function (resolve, reject)\r\n    {\r\n      this.$router.push(routerr);\r\n    })\r\n    },\r\n    abortForm() {\r\n      console.log(\"zhioiiiiiii\")\r\n      this.cleanForm();\r\n      this.$parent.$parent.dialogTableVisible = false\r\n    },\r\n    cleanForm() {\r\n\r\n      console.log(\"到这里了吗\")\r\n      this.input = '',\r\n          this.priority = '',\r\n          this.humanUse = false,\r\n          this.tradeUser = false,\r\n          this.dateStart = '',\r\n          this.dateStart2 = '',\r\n          this.dateEnd = '',\r\n          this.dateEnd2 = '',\r\n          this.workingTime = ''\r\n      this.deadLine = ''\r\n    },\r\n\r\n    // 主动监管名单部分\r\n    getActiveList() {\r\n      getAct(this.commodityName, this.flatName).then(res => {\r\n        this.valueRisk = res.data.data[0][0].riskvalue\r\n        this.valueMean = res.data.data[0][0].riskmean\r\n        this.formActiveList = res.data.data[1]\r\n      })\r\n      this.dialogActiveVisible = true\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n/deep/.el-form{\r\n  //display: inline-block;//居中 太短了 效果不行\r\n  // margin-left: 20em;//影响了立即创建里的el-form\r\n  //text-align:center //没效果\r\n}\r\n.el-form-item{\r\n  margin-bottom: 50px;\r\n}\r\n /deep/.el-form-item { \r\n  label {font-size: 18px; } \r\n  //margin-left: 400px;\r\n  }\r\n// .el-radio{\r\n//   label {font-size: 18px; } \r\n// }\r\n// .radio{\r\n//   label {font-size: 18px; }  \r\n// }\r\n// .el-radio /deep/ .el-radio__label{\r\n// font-size:18px !important;\r\n// }\r\n.radio {\r\n  /deep/ .el-radio-group {\r\n    height: 20px;\r\n    width: 60px;\r\n    /deep/ .el-radio {\r\n      margin: 0;\r\n      height: 20px;\r\n    }\r\n  }\r\n}\r\n/deep/ .el-radio__inner {\r\n  width: 20px;\r\n  height: 20px;\r\n  background: transparent !important;\r\n  box-sizing: border-box;\r\n  border: 2px solid #4f9efd;\r\n}\r\n/deep/.el-radio__inner::after {\r\n  background: #4f9efd;\r\n  width: 10px;\r\n  height: 10px;\r\n}\r\n/deep/.el-radio__label {\r\n  font-size: 20px;\r\n  color: #a0b2d3;\r\n  font-weight: bolder;\r\n}\r\n/deep/.el-radio__input.is-checked + .el-radio__label {\r\n  color: #4f9efd;\r\n}\r\n\r\n// .popbut {\r\n//   mulitline: true;\r\n//   white-space: normal;\r\n// }\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./taskInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./taskInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./taskInput.vue?vue&type=template&id=76372c12&scoped=true&\"\nimport script from \"./taskInput.vue?vue&type=script&lang=js&\"\nexport * from \"./taskInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./taskInput.vue?vue&type=style&index=0&id=76372c12&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"76372c12\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}