{"version":3,"sources":["webpack:///./src/components/part1/transactionProject/taskDictionary/userTaskInput.vue?ed03","webpack:///src/components/part1/transactionProject/taskDictionary/userTaskInput.vue","webpack:///./src/components/part1/transactionProject/taskDictionary/userTaskInput.vue?d5b0","webpack:///./src/components/part1/transactionProject/taskDictionary/userTaskInput.vue","webpack:///./node_modules/core-js/modules/es.object.keys.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","staticClass","_v","ref","attrs","form","model","value","callback","$$v","serve_place","expression","pickerOptions","serve_timeRange","serve_species","serve_type","on","postAddress","abortForm","handleClick","activeName","getMap","staticRenderFns","console","log","endArrow","radius","graph","component","$","toObject","nativeKeys","fails","FAILS_ON_PRIMITIVES","target","stat","forced","keys","it"],"mappings":"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","file":"js/chunk-442c034d.30c51075.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"800px\"}},[_c('h2',{staticClass:\"red\"},[_vm._v(\" 监管与服务任务 \")]),_c('div',{staticClass:\"block\",staticStyle:{\"height\":\"80px\",\"text-align\":\"left\"}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"130px\"}},[_c('el-form-item',{attrs:{\"label\":\"监管与服务地区\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择监管省份\"},model:{value:(_vm.serve_place),callback:function ($$v) {_vm.serve_place=$$v},expression:\"serve_place\"}},[_c('el-option',{attrs:{\"label\":\"青岛\",\"value\":\"1\"}}),_c('el-option',{attrs:{\"label\":\"上海\",\"value\":\"2\"}}),_c('el-option',{attrs:{\"label\":\"杭州\",\"value\":\"3\"}})],1),_vm._v(\" 监管周期 \"),_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"align\":\"right\",\"unlink-panels\":\"\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"picker-options\":_vm.pickerOptions},model:{value:(_vm.serve_timeRange),callback:function ($$v) {_vm.serve_timeRange=$$v},expression:\"serve_timeRange\"}})],1),_c('el-form-item',{attrs:{\"label\":\"监管种类\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择监管种类\"},model:{value:(_vm.serve_species),callback:function ($$v) {_vm.serve_species=$$v},expression:\"serve_species\"}},[_c('el-option',{attrs:{\"label\":\"钢铁\",\"value\":\"1\"}}),_c('el-option',{attrs:{\"label\":\"棉花\",\"value\":\"2\"}}),_c('el-option',{attrs:{\"label\":\"石油\",\"value\":\"3\"}}),_c('el-option',{attrs:{\"label\":\"重金属\",\"value\":\"4\"}})],1),_vm._v(\" 监管任务类型： \"),_c('el-select',{attrs:{\"placeholder\":\"请选择任务类型\"},model:{value:(_vm.serve_type),callback:function ($$v) {_vm.serve_type=$$v},expression:\"serve_type\"}},[_c('el-option',{attrs:{\"label\":\"信贷监管\",\"value\":\"信贷监管\"}}),_c('el-option',{attrs:{\"label\":\"仓单监管\",\"value\":\"仓单监管\"}}),_c('el-option',{attrs:{\"label\":\"质押权监管\",\"value\":\"质押权监管\"}}),_c('el-option',{attrs:{\"label\":\"融资监管\",\"value\":\"融资监管\"}}),_c('el-option',{attrs:{\"label\":\"主体查验\",\"value\":\"主体查验\"}}),_c('el-option',{attrs:{\"label\":\"库存核实\",\"value\":\"库存核实\"}}),_c('el-option',{attrs:{\"label\":\"报表审查\",\"value\":\"报表审查\"}}),_c('el-option',{attrs:{\"label\":\"关联交易质押品审核\",\"value\":\"关联交易质押品审核\"}})],1)],1),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.postAddress}},[_vm._v(\"立即创建\")]),_c('el-button',{attrs:{\"type\":\"info\"},on:{\"click\":_vm.abortForm}},[_vm._v(\"取消创建\")])],1),_c('el-tabs',{on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"任务集\",\"name\":\"taskTree\"}},[_vm._v(\" 任务分解情况（目前仅为单笔） \"),_c('div',{staticStyle:{\"width\":\"900px\",\"height\":\"400px\"},attrs:{\"id\":\"echartContainer\"}})]),_c('el-tab-pane',{attrs:{\"label\":\"监管联盟图\",\"name\":\"graphTwo\",\"lazy\":\"\"},on:{\"click\":_vm.getMap}},[_c('div',{staticStyle:{\"width\":\"900px\",\"height\":\"600px\"},attrs:{\"id\":\"container\"}})])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div style=\"width: 100%;height: 800px\">\n        <h2 class=\"red\"> 监管与服务任务 </h2>\n        <div class=\"block\" style=\"height:80px;text-align:left\">\n  <el-form ref=\"form\" :model=\"form\" label-width=\"130px\">\n   <el-form-item label=\"监管与服务地区\">\n    <el-select v-model=\"serve_place\" placeholder=\"请选择监管省份\">\n      <el-option label=\"青岛\" value=\"1\"></el-option>\n      <el-option label=\"上海\" value=\"2\"></el-option>\n      <el-option label=\"杭州\" value=\"3\"></el-option>\n    </el-select>\n\n     监管周期\n     <el-date-picker\n      v-model=\"serve_timeRange\"\n      type=\"daterange\"\n      align=\"right\"\n      unlink-panels\n      range-separator=\"至\"\n      start-placeholder=\"开始日期\"\n      end-placeholder=\"结束日期\"\n      :picker-options=\"pickerOptions\">\n    </el-date-picker>\n   </el-form-item>\n\n   <el-form-item label=\"监管种类\">\n    <el-select v-model=\"serve_species\" placeholder=\"请选择监管种类\">\n      <el-option label=\"钢铁\" value=\"1\"></el-option>\n      <el-option label=\"棉花\" value=\"2\"></el-option>\n      <el-option label=\"石油\" value=\"3\"></el-option>\n     <el-option label=\"重金属\" value=\"4\"></el-option>\n    </el-select>\n    监管任务类型：\n    <el-select v-model=\"serve_type\" placeholder=\"请选择任务类型\">\n      <el-option label=\"信贷监管\" value=\"信贷监管\"></el-option>\n      <el-option label=\"仓单监管\" value=\"仓单监管\"></el-option>\n      <el-option label=\"质押权监管\" value=\"质押权监管\"></el-option>\n      <el-option label=\"融资监管\" value=\"融资监管\"></el-option>\n      <el-option label=\"主体查验\" value=\"主体查验\"></el-option>\n      <el-option label=\"库存核实\" value=\"库存核实\"></el-option>\n      <el-option label=\"报表审查\" value=\"报表审查\"></el-option>\n      <el-option label=\"关联交易质押品审核\" value=\"关联交易质押品审核\"></el-option>\n    </el-select>\n  </el-form-item>\n\n<el-button type=\"success\" @click=\"postAddress\">立即创建</el-button>\n<el-button type=\"info\" @click=\"abortForm\">取消创建</el-button>\n</el-form>\n  <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\n    <el-tab-pane label=\"任务集\" name=\"taskTree\">\n        任务分解情况（目前仅为单笔）\n        <div id=\"echartContainer\" style=\"width:900px; height:400px\"></div>\n    </el-tab-pane>\n    <el-tab-pane label=\"监管联盟图\" name=\"graphTwo\"  @click=\"getMap\" lazy>\n    <div id=\"container\" style=\"width:900px; height:600px\"></div>\n    </el-tab-pane>\n  </el-tabs>\n        </div>\n    </div>\n</template>\n\n<script>\n    import G6 from '@antv/g6'\n    import {postTaskDecompositionApi,getbendiApi} from \"@/api/part1/transactionProject\";\n\n    export default {\n        name: \"Time_granularity\",\n        \n        components: {\n            \n        },\n        mounted() {\n        },\n\n         data() {\n      return {\n        serve_place:'',\n        serve_species:'',\n        serve_timeRange:'',\n        serve_type:'',\n        activeName: 'taskTree',\n        isUpdatastrategy:false,\n        // 开始日期输入限制\n        pickerOptions: {\n          disabledDate(time) {\n            return time.getTime() > Date.now();\n          },\n          shortcuts: [{\n            text: '最近一周',\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\n              picker.$emit('pick', [start, end]);\n            }\n          }, {\n            text: '最近一个月',\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\n              picker.$emit('pick', [start, end]);\n            }\n          }, {\n            text: '最近三个月',\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\n              picker.$emit('pick', [start, end]);\n            }\n          }]\n        },\n      };\n    },\n        methods: {\n          // 创建监管任务\n          postAddress(){\n            this.getData();\n          },\n          getData(){\n             var data = { \"name\":this.serve_type,  \n             \"value\":null,\n             \"children\":null\n                };\n                console.log(\"用户输入是：\"+ data)\n                postTaskDecompositionApi(data).then((res) => {\n                 console.log(res.data.data[0])\n                 if(res.data.data.length === 0){\n               this.$error(\"系统错误！请稍后重试！\");\n                }\n                else{\n                this.$message({\n                 type: 'success',\n                  message: '任务分配已完成，请从下方查看分解情况。'\n          });\n                }\n                 this.drawLine(res.data.data[0]);\n                }).catch(()=>{\n                    console.log(\"postTaskDecompositionApi fail\")\n                });  \n            },\n            drawLine(inputData) {\n                // 基于准备好的dom，初始化echarts实例\n                let myChart = this.$echarts.init(document.getElementById('echartContainer'))\n  var colorMap = {\n    normal: '#18a849',\n    warn: '#FFC125',\n    error: '#FF0000',\n};\nvar data = inputData;\n/*\n   var data = {\n    \"name\": \"信贷监管\",\n    \"children\": [\n        {\n            \"name\": \"仓单监管\",\n            \"children\": [\n                {\n                    \"name\": \"主体查验\",\n                    \"children\": [\n                        {\"name\": \"仓管主体查验\"},\n                        {\"name\": \"交易主体查验\"}\n                    ]\n                },\n                {\n                    \"name\": \"库存核实\",\n                    \"value\": 3322\n                },\n                {\n                    \"name\": \"报表审查\",\n                    \"value\": 3322\n                }\n            ]\n        },\n        {\n            \"name\": \"质押权监管\",\n            \"children\": [\n                {\"name\": \"关联交易质押品审核\", \"value\": 8833},\n                {\"name\": \"抵押金审核\", \"value\": 1732}\n            ]\n        },\n        {\n            \"name\": \"融资监管\",\n            \"children\": [\n                {\"name\": \"融资套现\",\n                 \"children\": [\n                {\"name\": \"关联交易监管\", \"value\": 8833},\n                {\"name\": \"交易周期监管\", \"value\": 1732},\n                {\"name\": \"跨境交易监管\", \"value\": 1732}\n            ]\n                },\n                {\"name\": \"融资回款\", \n                \"children\": [\n                {\"name\": \"融资续期监管\", \"value\": 8833},\n                {\"name\": \"融资超期监管\", \"value\": 1732},            ]\n                }\n            ]\n        },\n    ]\n};*/\n                // 绘制图表\n    myChart.setOption({\n    tooltip: {\n        trigger: 'item',\n        triggerOn: 'mousemove'\n    },\n    series:[\n        {\n            type: 'tree',\n            id: 0,\n            name: 'tree1',\n            data: [data],\n\n            top: '10%',\n            left: '8%',\n            bottom: '22%',\n            right: '20%',\n\n            symbolSize: 15,\n\n            edgeShape: 'polyline',\n            edgeForkPosition: '63%',\n            initialTreeDepth: 3,\n\n            lineStyle: {\n                width: 2\n            },\n            itemStyle: {\n                borderColor: '#6A5ACD'\n            },\n            label: {\n                backgroundColor: '#fff',\n                position: 'left',\n                verticalAlign: 'middle',\n                align: 'right'\n            },\n\n            leaves: {\n                label: {\n                    position: 'right',\n                    verticalAlign: 'middle',\n                    align: 'left'\n                },\n            },\n        }\n    ]\n});\n myChart.on(\"click\", clickFun);\n function clickFun(param) {\n    if (typeof param.seriesIndex == 'undefined') {\n        return;\n    }\n    if (param.type == 'click') {\n        if(param.value !== undefined){\n        alert(param.name + \"执行情况:  \" + param.value);\n        }\n    }\n}\n            },\n\n            // 第二个图\n            getData_map(){\n          getbendiApi().then((res) => {\n              var input  = res.data.data;\n              var result_nodes = [];\n              var result_target = [];\n              var taskList = Object.keys(input);\n              //获得关系--任务关系\n              for(let n = 0; n < taskList.length-2;n++){\n                  var target = {};\n                  target.source = taskList[n];\n                  target.target = taskList[n+1];\n                  result_target.push(target);\n              }\n              for (let i = 0; i<taskList.length;i++){\n                  var node = {};\n                  node.id = taskList[i];\n                  node.label = taskList[i];\n                  node.agent = false;\n                  result_nodes.push(node);\n                  var attr = node.id;\n                  console.log(\"nodeaaaaaaaa\" + i + \":\" + input[attr]);\n\n                  // 任务对应的agent遍历出来 \n                  for(let j = 0; j< input[attr][j];j++){\n                      var node_agent = {};\n                      node_agent.id = input[attr][j];\n                      node_agent.label = input[attr][j];\n                      node_agent.agent = true;\n                      result_nodes.push(node_agent);\n                      // 获得任务--agent对应关系\n                      var targer_agent = {};\n                      targer_agent.source = attr;\n                      targer_agent.target = node_agent.id;\n                      result_target.push(targer_agent);\n                  }\n                  console.log(\"node\" + i + \":\" + node.id);\n              }\n              this.getChart_map(result_nodes,result_target);\n               this.$message({\n                 type: 'success',\n                  message: '已形成联盟！'\n          });\n                }).catch(()=>{\n                    console.log(\"getTaskApi fail\")\n                });         \n      },\n      getChart_map(nodes_new,edges_new){\n      console.log(\"刷新了这个页面-所以可以显示\");\nvar color = ['#40E0D0','#1E90FF'];\nconst data = {\n    nodes:nodes_new,\n    edges:edges_new\n};\nconst tooltip = new G6.Tooltip({\n  pageX: 10,\n  offsetY: 20,\n  getContent(e) {\n    const outDiv = document.createElement('div');\n    outDiv.style.width = '180px';\n    outDiv.style.textAlign = 'left';\n    outDiv.innerHTML = `\n      <h4>${e.item.getModel().label}</h4>\n      <ul>\n        <li>* 任务ID: ${e.item.getModel().id}</li>\n      </ul>\n      <ul>\n        <li>* 任务名称: ${e.item.getModel().label}</li>\n      </ul>\n`\n    return outDiv\n  },\n  itemTypes: ['node']\n});\nconst width = document.getElementById('container').scrollWidth;\nconst height = document.getElementById('container').scrollHeight || 500;\nconst graph = new G6.Graph({\n    container: 'container',\n    width,\n    height,\n    fitView: true,\n    plugins: [tooltip], // 配置 Tooltip 插件\n    modes: {\n        default: ['drag-canvas', 'drag-node',\n        ],\n    },\n    nodeStateStyles: {\n    hover: {\n      lineWidth: 2,\n      stroke: '#1890ff',\n      fill: '#e6f7ff',\n    },\n  },\n    layout: {\n        type: 'dagre',\n        rankdir: 'LR',\n        align: 'UL',\n        controlPoints: true,\n        nodesepFunc: () => 1,\n        ranksepFunc: () => 1,\n    },\n      defaultNode: {\n    style: {\n      radius: 2,\n      stroke: '#69c0ff',\n      fill: data.nodes[2].ccc, // 底色\n      lineWidth: 1.5,\n      fillOpacity: 1,\n    },\n    // label configurations\n    labelCfg: {\n      style: {\n        fill: '#595959',\n        fontSize: 20,\n      },\n      offset: 30,\n    },\n    // left rect\n    preRect: {\n      show: true,\n      width: 10,\n      fill: '#40a9ff',\n      radius: 2,\n    },\n    // configurations for the four linkpoints\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // the size of the linkpoints' circle\n      size: 10,\n      lineWidth: 1,\n      fill: '#72CC4A',\n      stroke: '#72CC4A',\n    },\n    // configurations for the icon\n  },\n    defaultEdge: {\n        type: 'polyline',\n        size: 1,\n        color: '#4169E1',\n        style: {\n            endArrow: {\n                path: 'M 0,0 L 8,4 L 8,-4 Z',\n                fill: '#e2e2e2'\n            },\n            radius: 10\n        },\n    },\n});\ngraph.node(function (node) {\n    // depth 类似节点标识\n                        if(node.agent == true){\n                            console.log(node)\n                            return {\n                                type:'circle',\n                                size: [100, 80],\n                            }\n                        }\n                        if(node.agent == false){\n                            console.log(node)\n                            return {\n                                type:'modelRect',\n                                size: [270, 80],\n                            }\n                        }\n                        return {\n                            labelCfg: {\n                                // position: node.children && node.children.length > 0 ? 'left' : node.x > centerX ? 'right' : 'left', // 设置显示左右\n                                offset: 5\n                            }\n                        };\n                    });\ngraph.data(data);\ngraph.render();\ngraph.on('node:mouseenter', evt => {\n  const { item } = evt;\n  graph.setItemState(item, 'hover', true);\n});\n\ngraph.on('node:mouseleave', evt => {\n  const { item } = evt;\n  graph.setItemState(item, 'hover', false);\n});\nconsole.log(\"刷新了这个页面-页面结束\");\n      },\n      // 分页激活调用\n     handleClick(tab, event) {\n        console.log(tab, event);\n        if(this.activeName == 'graphTwo'){\n            this.getData_map();\n    }\n      }\n        },\n\n    }\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userTaskInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userTaskInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./userTaskInput.vue?vue&type=template&id=31f80438&scoped=true&\"\nimport script from \"./userTaskInput.vue?vue&type=script&lang=js&\"\nexport * from \"./userTaskInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"31f80438\",\n  null\n  \n)\n\nexport default component.exports","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n"],"sourceRoot":""}