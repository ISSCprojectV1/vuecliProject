(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f3f8227"],{"09ea":function(t,e,n){"use strict";n.d(e,"F",(function(){return i})),n.d(e,"H",(function(){return o})),n.d(e,"o",(function(){return r})),n.d(e,"E",(function(){return s})),n.d(e,"k",(function(){return l})),n.d(e,"f",(function(){return c})),n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return d})),n.d(e,"G",(function(){return m})),n.d(e,"I",(function(){return f})),n.d(e,"m",(function(){return h})),n.d(e,"p",(function(){return g})),n.d(e,"u",(function(){return p})),n.d(e,"a",(function(){return b})),n.d(e,"i",(function(){return v})),n.d(e,"B",(function(){return y})),n.d(e,"e",(function(){return k})),n.d(e,"j",(function(){return T})),n.d(e,"t",(function(){return O})),n.d(e,"A",(function(){return j})),n.d(e,"v",(function(){return _})),n.d(e,"w",(function(){return S})),n.d(e,"d",(function(){return N})),n.d(e,"b",(function(){return w})),n.d(e,"y",(function(){return I})),n.d(e,"z",(function(){return A})),n.d(e,"c",(function(){return E})),n.d(e,"x",(function(){return C})),n.d(e,"C",(function(){return x})),n.d(e,"D",(function(){return D})),n.d(e,"q",(function(){return R})),n.d(e,"s",(function(){return V})),n.d(e,"J",(function(){return F})),n.d(e,"n",(function(){return M})),n.d(e,"r",(function(){return L})),n.d(e,"l",(function(){return U}));var a=n("b775");function i(){return console.log("spaceResult"),Object(a["a"])({url:"/spaceresult",method:"get"})}function o(t){return console.log("发送taskInput请求"),Object(a["a"])({url:"/task",method:"post",data:t})}function r(){return console.log("getReadyQueue"),Object(a["a"])({url:"/getReadyQueue",method:"get"})}function s(){return console.log("/modality"),Object(a["a"])({url:"/modality",method:"get"})}function l(){return console.log("发送/getAllUsers请求"),Object(a["a"])({url:"/getAllUsers",method:"get"})}function c(){return console.log("发送bourseget请求"),Object(a["a"])({url:"/getAllbourse",method:"get"})}function u(t){return console.log("发送/modality请求"),Object(a["a"])({url:"/modality",method:"post",data:t})}function d(){return console.log("发送时间粒度请求"),Object(a["a"])({url:"/getTimeadvise",method:"get"})}function m(){return console.log("发送taskAllocation 请求"),Object(a["a"])({url:"/taskAllocation",method:"get"})}function f(){return console.log("获取taskQuery表格数据"),Object(a["a"])({url:"/task",method:"get"})}function h(t){return console.log("获取getModalityByUserId数据 "),Object(a["a"])({url:t,method:"get"})}function g(t){return console.log("获取getRolenameById数据 "),Object(a["a"])({url:t,method:"get"})}function p(){return console.log("获取商品信息表格数据！！！"),Object(a["a"])({url:"/getcommodityInfomation",method:"get"})}function b(t){return console.log("添加商品信息数据！！！"),Object(a["a"])({url:"/addcommodityInfomation",method:"post",data:t})}function v(t){return console.log("删除商品！！！"),Object(a["a"])({url:t,method:"get"})}function y(){return console.log("获取品类表格数据！！！"),Object(a["a"])({url:"/getcommodityVariety",method:"get"})}function k(t){return console.log("添加品类！！！"),Object(a["a"])({url:"/addcommodityVariety",method:"post",data:t})}function T(t){return console.log("删除品类！！！"),Object(a["a"])({url:t,method:"get"})}function O(t){return console.log("根据商品名称 获得商品历史价格信息！！！"),Object(a["a"])({url:t,method:"get"})}function j(){return console.log("获得 商品交易数据集。！！！"),Object(a["a"])({url:"/getcommodityTransaction",method:"get"})}function _(){return console.log("获得 关联商品数据集！！！"),Object(a["a"])({url:"/getcommodityTransaction2",method:"get"})}function S(){return console.log("获得 详细关联商品数据集！！！"),Object(a["a"])({url:"/getcommodityRelationdetails",method:"get"})}function N(t){return console.log("添加商品交易事务数据集。！！！"),Object(a["a"])({url:"/addcommodityTransaction",method:"post",data:t})}function w(){return console.log("计算出关联商品集！！！"),Object(a["a"])({url:"/addcommodityRelationdetails2",method:"get"})}function I(){return console.log("获得 时间粒度集合！！！"),Object(a["a"])({url:"/getcommodityTimeadvise",method:"get"})}function A(t){return console.log("根据商品名称 获得时间粒度！！！"),Object(a["a"])({url:t,method:"get"})}function E(){return console.log("计算时间粒度！！！"),Object(a["a"])({url:"/addcommodityTimeadvise",method:"get"})}function C(t){return console.log("根据商品名称 获得关联商品集合！！！"),Object(a["a"])({url:t,method:"get"})}function x(t){return console.log("发送getplatform请求"),Object(a["a"])({url:t,method:"get"})}function D(t){return console.log("发送getrecommendrlatform请求"),Object(a["a"])({url:t,method:"get"})}function R(t){return console.log("发送getTeamResult请求"),Object(a["a"])({url:t,method:"get"})}function V(t){return console.log("发送getTeamResultForRS请求"),Object(a["a"])({url:t,method:"get"})}function F(t){return console.log("追加商品粒度"),Object(a["a"])({url:"/taskDecomposition",method:"post",data:t})}function M(t){return console.log("发送getOneTeamResult请求"),Object(a["a"])({url:t,method:"get"})}function L(t){return console.log("发送getTeamResultByRName请求"),Object(a["a"])({url:t,method:"get"})}function U(){return console.log("发送getComparisonResults请求"),Object(a["a"])({url:"/getComparisonResults",method:"get"})}},"2cec":function(t,e,n){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var a=n("1d80"),i=n("5899"),o="["+i+"]",r=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),l=function(t){return function(e){var n=String(a(e));return 1&t&&(n=n.replace(r,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:l(1),end:l(2),trim:l(3)}},"5e05":function(t,e,n){"use strict";n.d(e,"g",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return l})),n.d(e,"f",(function(){return c})),n.d(e,"e",(function(){return u})),n.d(e,"i",(function(){return d})),n.d(e,"h",(function(){return m})),n.d(e,"j",(function(){return f}));var a=n("b775");function i(t,e,n){return Object(a["a"])({method:"GET",params:{taskid:t,currentPage:e,pageSize:n},url:"/getPassive"})}function o(t,e){return Object(a["a"])({method:"GET",params:{id:t,limit:e},url:"/louvainresult"})}function r(t,e){return Object(a["a"])({method:"GET",params:{id:t,limit:e},url:"/activetaskgraph"})}function s(t){return Object(a["a"])({method:"GET",params:{company:t},url:"/activegraph"})}function l(t,e){return Object(a["a"])({method:"GET",params:{category:t,platform:e},url:"/getAct/"})}function c(t,e,n){return Object(a["a"])({method:"GET",params:{taskid:t,currentPage:e,pageSize:n},url:"/getActiveGroup/"})}function u(t,e,n){return Object(a["a"])({method:"GET",params:{company:t,currentPage:e,pageSize:n},url:"/getActiveCompanyDetail/"})}function d(t,e,n){return Object(a["a"])({method:"GET",params:{taskid:t,currentPage:e,pageSize:n},url:"/getSpaceans"})}function m(t,e,n,i){return Object(a["a"])({method:"GET",params:{platform:t,category:e,currentPage:n,pageSize:i},url:"/getSpaceDetail"})}function f(t,e){return Object(a["a"])({method:"GET",url:"/uploadDetails/"+t+"/"+e})}},a434:function(t,e,n){"use strict";var a=n("23e7"),i=n("23cb"),o=n("a691"),r=n("50c4"),s=n("7b0b"),l=n("65f0"),c=n("8418"),u=n("1dde"),d=n("ae40"),m=u("splice"),f=d("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,g=Math.min,p=9007199254740991,b="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!m||!f},{splice:function(t,e){var n,a,u,d,m,f,v=s(this),y=r(v.length),k=i(t,y),T=arguments.length;if(0===T?n=a=0:1===T?(n=0,a=y-k):(n=T-2,a=g(h(o(e),0),y-k)),y+n-a>p)throw TypeError(b);for(u=l(v,a),d=0;d<a;d++)m=k+d,m in v&&c(u,d,v[m]);if(u.length=a,n<a){for(d=k;d<y-a;d++)m=d+a,f=d+n,m in v?v[f]=v[m]:delete v[f];for(d=y;d>y-a+n;d--)delete v[d-1]}else if(n>a)for(d=y-a;d>k;d--)m=d+a-1,f=d+n-1,m in v?v[f]=v[m]:delete v[f];for(d=0;d<n;d++)v[d+k]=arguments[d+2];return v.length=y-a+n,u}})},a9e3:function(t,e,n){"use strict";var a=n("83ab"),i=n("da84"),o=n("94ca"),r=n("6eeb"),s=n("5135"),l=n("c6b6"),c=n("7156"),u=n("c04e"),d=n("d039"),m=n("7c73"),f=n("241c").f,h=n("06cf").f,g=n("9bf2").f,p=n("58a8").trim,b="Number",v=i[b],y=v.prototype,k=l(m(y))==b,T=function(t){var e,n,a,i,o,r,s,l,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=p(c),e=c.charCodeAt(0),43===e||45===e){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+c}for(o=c.slice(2),r=o.length,s=0;s<r;s++)if(l=o.charCodeAt(s),l<48||l>i)return NaN;return parseInt(o,a)}return+c};if(o(b,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var O,j=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof j&&(k?d((function(){y.valueOf.call(n)})):l(n)!=b)?c(new v(T(e)),n,j):T(e)},_=a?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;_.length>S;S++)s(v,O=_[S])&&!s(j,O)&&g(j,O,h(v,O));j.prototype=y,y.constructor=j,r(i,b,j)}},e170:function(t,e,n){"use strict";var a=n("2cec"),i=n.n(a);i.a},fc15:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("el-form",{attrs:{"label-width":"130px"}},[n("el-form-item",{staticStyle:{"margin-left":"300px"},attrs:{label:"任务来源"}},[n("el-col",{attrs:{span:1}},[n("el-tag",{staticStyle:{"font-size":"14px"}},[t._v(" "+t._s(t.radio)+" ")])],1)],1),n("el-form-item",{staticStyle:{"margin-left":"300px"},attrs:{label:"商品种类"}},[n("el-col",{attrs:{span:13}},[n("el-input",{attrs:{placeholder:"请输入内容"},on:{change:t.handleChange},model:{value:t.commodityName,callback:function(e){t.commodityName=e},expression:"commodityName"}})],1)],1),n("el-form-item",{staticStyle:{"margin-left":"300px"},attrs:{label:"交易平台"}},[n("el-col",{attrs:{span:13}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择平台名称"},model:{value:t.flatName,callback:function(e){t.flatName=e},expression:"flatName"}},t._l(t.flatList,(function(e,a){return n("el-option",{key:a,attrs:{label:e.flatName,value:e.flatName},on:{change:t.handleChange}})})),1)],1)],1),n("el-form-item",{staticStyle:{"margin-left":"300px"},attrs:{label:"交易风险类型"}},[n("el-col",{attrs:{span:13}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择交易风险类型"},model:{value:t.taskType,callback:function(e){t.taskType=e},expression:"taskType"}},[n("el-option",{attrs:{label:"交易主体异常",value:"交易主体异常"}}),n("el-option",{attrs:{label:"仓单异常",value:"仓单异常"}}),n("el-option",{attrs:{label:"融资异常",value:"融资异常"}}),n("el-option",{attrs:{label:"质押权异常",value:"质押权异常"}})],1)],1)],1),n("el-button",{on:{click:t.createTaskSource}},[t._v("修改任务来源")]),n("el-button",{attrs:{type:"primary"},on:{click:t.createTask}},[t._v("立即创建")])],1)],1),n("el-dialog",{attrs:{title:"请选择任务来源",visible:t.formTaskVisible,"append-to-body":!0,width:"40%"},on:{"update:visible":function(e){t.formTaskVisible=e}}},[n("el-radio-group",{model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[n("el-radio",{attrs:{label:"主体智能查验"}},[t._v("主体智能查验")]),n("el-radio",{attrs:{label:"交易过程监测"}},[t._v("交易过程监测")]),n("el-radio",{attrs:{label:"交易风险智能分析与预警"}},[t._v("交易风险智能分析与预警")])],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.InputTaskSourceTrue}},[t._v("确定")])],1)],1),n("el-dialog",{attrs:{title:"确认创建任务",visible:t.formDialogVisible,"append-to-body":!0,width:"30%"},on:{"update:visible":function(e){t.formDialogVisible=e}}},[n("el-form",{attrs:{"label-position":"left","label-width":"100px"}},[n("el-form-item",{attrs:{label:"任务来源"}},[n("el-col",[n("el-tag",{staticStyle:{"font-size":"14px"}},[t._v(" "+t._s(t.radio)+" ")])],1)],1),n("el-form-item",{attrs:{label:"商品种类"}},[n("el-col",[n("el-tag",{staticStyle:{"font-size":"14px"}},[t._v(" "+t._s(t.commodityName)+" ")])],1)],1),n("el-form-item",{attrs:{label:"交易平台"}},[n("el-col",[n("el-tag",{staticStyle:{"font-size":"14px"}},[t._v(" "+t._s(t.flatName)+" ")])],1)],1),n("el-form-item",{attrs:{label:"交易风险类型"}},[n("el-col",[n("el-tag",{staticStyle:{"font-size":"14px"}},[t._v(" "+t._s(t.taskType)+" ")])],1)],1)],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:function(e){t.formDialogVisible=!1}}},[t._v("取消")]),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.formDialogTrue}},[t._v("确 定")])],1)],1),n("el-dialog",{attrs:{visible:t.dialogActiveVisible,title:"主动监管名单",width:"40%",center:""},on:{"update:visible":function(e){t.dialogActiveVisible=e}}},[n("p",{staticStyle:{"font-size":"1rem"}},[t._v(" 平台风险值： "),"高"===t.valueMean?n("span",{staticStyle:{"margin-right":"1rem",color:"red"}},[t._v(t._s(t.valueRisk))]):"中"===t.valueMean?n("span",{staticStyle:{"margin-right":"1rem",color:"orange"}},[t._v(t._s(t.valueRisk))]):"低"===t.valueMean?n("span",{staticStyle:{"margin-right":"1rem",color:"green"}},[t._v(t._s(t.valueRisk))]):t._e(),t._v(" 风险程度： "),"高"===t.valueMean?n("span",{staticStyle:{color:"red"}},[t._v(t._s(t.valueMean))]):"中"===t.valueMean?n("span",{staticStyle:{color:"orange"}},[t._v(t._s(t.valueMean))]):"低"===t.valueMean?n("span",{staticStyle:{color:"green"}},[t._v(t._s(t.valueMean))]):t._e()]),n("el-table",{attrs:{data:t.formActiveList,"default-sort":{prop:"p",order:"descending"},stripe:""}},[n("el-table-column",{attrs:{prop:"name",label:"主体"}}),n("el-table-column",{attrs:{prop:"p",label:"异常值",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(parseFloat(e.row.p).toFixed(3)))])]}}])})],1)],1)],1)},i=[],o=(n("c975"),n("a434"),n("b0c0"),n("a9e3"),n("d3b7"),n("09ea")),r=n("5e05"),s=["a","b","c"],l={data:function(){return{checkAllCommodity:!1,checkedCommodity:["a"],isIndeterminateCommodity:!0,commodities:s,isCommodity:!1,commodityName:"",flatList:[],flatName:"",taskType:"",isIndeterminate:!1,taskinputt:this.taskin,input:"",priority:"",humanUse:!1,dateStart:"",dateStart2:"",dateEnd:"",dateEnd2:"",workingTime:"",deadLine:"",timeAdvise:"",content:this.flatName,tradeUser:!1,formDialogVisible:!1,formTaskVisible:!1,radio:"主体智能查验",showStart:"",showEnd:"",dialogActiveVisible:!1,valueRisk:"",valueMean:"",formActiveList:[]}},props:["taskin"],created:function(){var t=this;Object(o["f"])().then((function(e){for(var n=e.data.data,a=[],i=0;i<n.length;i++)a.push(n[i].bourse);t.cities=a})).catch((function(){console.log("taskQuery fail")})),this.taskin&&(this.input=this.taskin.name,this.priority=this.taskin.priority,this.humanUse=this.taskin.humanUse,this.content=this.taskin.content)},watch:{"taskin.changeflag":function(){this.input=this.taskin.name,this.priority=this.taskin.priority?this.taskin.priority:1,this.commodityName=this.taskin.commodityName,this.workingTime=this.taskin.workingTime,this.deadLine=this.taskin.deadLine,this.humanUse=this.taskin.humanUse,this.content=this.taskin.content,this.content||(this.content="暂时未分配"),"是"===this.taskin.humanUse&&(this.humanUse=1),"否"===this.taskin.humanUse&&(this.humanUse=0),this.taskin.changeflag===Number.POSITIVE_INFINITY&&this.cleanForm()}},methods:{handleChange:function(t){this.getFlatList()},handleCloseCommodityTag:function(t){this.commodityTags.splice(this.commodityTags.indexOf(t),1)},setFlatList:function(t){for(var e=0;e<t.length;e++){var n={};n.flatName=t[e],this.flatList.push(n)}},getFlatList:function(){var t,e=this,n="/getplatform?commodity="+this.commodityName;Object(o["C"])(n).then((function(n){t=n.data.data,e.setFlatList(t)})).catch((function(t){console.log(t)}))},setFlats:function(t){for(var e=0;e<t.length;e++){var n={};n.flat_name=t[e].platform,n.flat_num=t[e].association,this.flatData.push(n)}},formDialogTrue:function(){this.postData(),this.formDialogVisible=!1,this.$message({message:"恭喜你，任务提交成功",type:"success"})},InputTaskSourceTrue:function(){this.formTaskVisible=!1,this.$message({message:"恭喜你，任务来源选择成功",type:"success"})},handleCloseFlatTag:function(t){this.flatTags.splice(this.flatTags.indexOf(t),1)},handleCheckAllChange:function(t){this.checkedCities=t?this.cities:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(t){var e=t.length;this.checkAll=e===this.cities.length,this.isIndeterminate=e>0&&e<this.cities.length},setTimeRecommend:function(t){var e=parseInt(t),n=new Date,a=new Date;this.dateEnd=n,a.setDate(a.getDate()-e),this.dateStart=a},getTimeRecommend:function(){var t,e=this,n=this.commodityName,a="/getcommodityTimeadvise2/"+n;Object(o["z"])(a).then((function(a){var i=[];i=a.data,t=i[0].timeadvise,e.timeAdvise=t;var o=n+"推荐时间粒度为："+t+"天";e.$message({message:o,type:"success"}),e.setTimeRecommend(t)})).catch((function(t){console.log(t)}))},having:function(){return""!==this.taskin.id},createTask:function(){this.formDialogVisible=!0},createTaskSource:function(){this.formTaskVisible=!0},postAddress:function(){var t=this;this.$confirm("是否确认创建该监管任务","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){for(var e="",n=0;n<t.checkedCities.length;n++)0===n&&(e+=t.checkedCities[n]),n>0&&(e+=","+t.checkedCities[n]);t.content=e,t.postData(),t.$parent.$parent.reloadPage()})).catch((function(){for(var e=0;e<t.checkedCities.length;e++)0===e&&t.checkedCities[e],e>0&&","+t.checkedCities[e]})),this.$parent.$parent.dialogTableVisible=!1},postData:function(){var t=this,e=(new Date(this.dateStart2).getTime(),new Date(this.dateEnd2).getTime(),parseInt((new Date).getTime()/1e3)),n=new Date(1e3*e),a=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()+" "+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds(),i=this.flatName+"-"+this.commodityName+"-"+this.taskType+"("+a+")",r=!0===this.humanUse?1:0,s={name:i,priority:this.priority,startTime:1587807522386,endTime:1588404415698,humanUse:r,workingTime:36e5*this.workingTime,deadLine:new Date(this.deadLine).getTime(),timeadvise:this.timeAdvise,tradeuser:this.tradeUser,content:this.flatName,commodityName:this.commodityName};Object(o["H"])(s).then((function(e){t.$router.push("/trade/Multimodal-multigranularity/stepBar/taskQueryTableView").then((function(){t.$parent.$children[0].active=1,t.$store.commit("setStepbarPosition",1)}))})).catch((function(t){console.log(t)}))},goto:function(t){return new Promise((function(){this.$router.push(t)}))},abortForm:function(){this.cleanForm(),this.$parent.$parent.dialogTableVisible=!1},cleanForm:function(){this.input="",this.priority="",this.humanUse=!1,this.tradeUser=!1,this.dateStart="",this.dateStart2="",this.dateEnd="",this.dateEnd2="",this.workingTime="",this.deadLine=""},getActiveList:function(){var t=this;Object(r["d"])(this.commodityName,this.flatName).then((function(e){t.valueRisk=e.data.data[0][0].riskvalue,t.valueMean=e.data.data[0][0].riskmean,t.formActiveList=e.data.data[1]})),this.dialogActiveVisible=!0}}},c=l,u=(n("e170"),n("2877")),d=Object(u["a"])(c,a,i,!1,null,"30e1c154",null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2f3f8227.72507d0e.js.map